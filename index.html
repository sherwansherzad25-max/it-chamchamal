<!DOCTYPE html>
<html lang="ku" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="google-site-verification" content="KRUnPZNhg3NP-_UojaPqUmyg0Nl_naNcoGN3c3upo-4" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
    <meta http-equiv="Pragma" content="no-cache">
    <meta http-equiv="Expires" content="0">

    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="Ø¦Ø§ÛŒØªÛŒ IT">

    <meta name="description" content="Ø³Ø§ÛŒØªÛŒ  Ø¨Û•Ø´ÛŒ IT Ù¾Û•ÛŒÙ…Ø§Ù†Ú¯Ø§ÛŒ ØªÛ•Ú©Ù†ÛŒÚ©ÛŒ Ú†Û•Ù…Ú†Û•Ù…Ø§Úµ">
    <meta name="keywords" content="IT Chamchamal, Ø¨Û•Ø´ÛŒ Ø¦Ø§ÛŒØªÛŒ Ú†Û•Ù…Ú†Û•Ù…Ø§Úµ">
    <meta name="author" content="Sherwan Sherzad">
    
    <meta property="og:title" content="Ø¨Û•Ø´ÛŒ IT | Ù¾Û•ÛŒÙ…Ø§Ù†Ú¯Ø§ÛŒ ØªÛ•Ú©Ù†ÛŒÚ©ÛŒ Ú†Û•Ù…Ú†Û•Ù…Ø§Úµ">
    <meta property="og:url" content="https://sherwansherzad25-max.github.io/it-chamchamal/">
    <title>Ø¨Û•Ø´ÛŒ IT Ù¾Û•ÛŒÙ…Ø§Ù†Ú¯Ø§ÛŒ ØªÛ•Ú©Ù†ÛŒÚ©ÛŒ Ú†Û•Ù…Ú†Û•Ù…Ø§Úµ</title>

    <link rel="icon" type="image/png" sizes="192x192" href="it-icon-final-192.png?v=5">
    <link rel="apple-touch-icon" sizes="180x180" href="it-icon-final-180.png?v=5">
    <link rel="manifest" href="manifest.json?v=5">
    <meta name="theme-color" content="#1e3a8a">

    <link href="https://fonts.googleapis.com/css2?family=Vazirmatn:wght@300;400;700;900&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Changa:wght@800&display=swap" rel="stylesheet">

    <style>
        :root {
            /* --- RANGAKAN (Palette) --- */
            --primary: #1e3a8a;       /* Navy Blue - Header/Footer */
            --secondary: #059669;     /* Emerald Green - Sidebar/Highlights */
            --accent: #dc2626;        /* Red - Alerts */
            --background: #f1f5f9;    /* Light Gray Blue BG */
            --white: #ffffff;
            --text-color: #1e293b;
            --table-border: #cbd5e1;
            --sidebar-bg: #059669;    /* Green Sidebar */
            --sidebar-text: #ffffff;
            --font-main: 'Vazirmatn', sans-serif;
        }

        body.dark-mode {
            --background: #0f172a;    /* Dark Navy BG */
            --white: #1e293b;
            --primary: #172554;       /* Darker Navy */
            --text-color: #f8fafc;
            --table-border: #334155;
            --sidebar-bg: #064e3b;    /* Dark Green */
            --secondary: #10b981;
        }

        body {
            font-family: var(--font-main);
            background-color: var(--background);
            margin: 0; padding: 0; color: var(--text-color);
            transition: background-color 0.3s, color 0.3s;
            overflow-x: hidden;
            direction: rtl;
            text-align: right;
            background-image: url('https://upload.wikimedia.org/wikipedia/commons/6/63/Chamchamal_city.jpg'); 
            background-size: cover; background-position: center; background-attachment: fixed;
            -webkit-tap-highlight-color: transparent;
        }

        /* --- SIDEBAR LOCK (NEW) --- */
        body.sidebar-open {
            overflow: hidden !important; /* Ù‚ÙˆÙÚµÚ©Ø±Ø¯Ù†ÛŒ Ø´Ø§Ø´Û• Ú©Ø§ØªÛÚ© Ù„ÛŒØ³Øª Ú©Ø±Ø§ÙˆÛ•ÛŒÛ• */
        }

        body::before {
            content: ""; position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(241, 245, 249, 0.94); z-index: -1; transition: 0.3s;
            backdrop-filter: blur(4px);
        }
        body.dark-mode::before { background: rgba(15, 23, 42, 0.94); }

        /* --- LOADING SCREEN (UPDATED) --- */
        #loading-screen {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background-color: #059669; /* Ú•Û•Ù†Ú¯ÛŒ Ø³Û•ÙˆØ² Ø¨Û•Ù¾ÛÛŒ Ø¯Ø§ÙˆØ§Ú©Ø§Ø±ÛŒ */
            z-index: 9999; display: flex; flex-direction: column;
            align-items: center; justify-content: center;
            transition: opacity 0.5s ease-out, visibility 0.5s;
        }
        #loading-screen.hidden { opacity: 0; visibility: hidden; }
        
        .loader-logo {
            width: 70%; /* ÙˆÛÙ†Û•Ú©Û• Ú¯Û•ÙˆØ±Û• Ú©Ø±Ø§ÙˆÛ• Ù¾Ú• Ø¨Û• Ø´Ø§Ø´Û• */
            max-width: 350px;
            height: auto;
            border-radius: 20px;
            /* Ø³ÛØ¨Û•Ø±ÛŒ Ú©Û•Ù… Ú©Ø±Ø§ÙˆÛ•ØªÛ•ÙˆÛ• Ø¨Û† Ø¬ÙˆØ§Ù†ÛŒ */
            filter: drop-shadow(0 0 10px rgba(0,0,0,0.2));
            animation: pulse 1.5s infinite;
        }
        .loader-text {
            color: white; margin-top: 20px; font-weight: bold; font-size: 1.4rem;
            font-family: 'Changa', sans-serif; letter-spacing: 1px;
        }
        @keyframes pulse { 0% { transform: scale(1); } 50% { transform: scale(1.05); } 100% { transform: scale(1); } }

        /* English Support */
        body.lang-en { direction: ltr; text-align: left; }
        body.lang-en .fixed-menu-btn { right: auto; left: 15px; } 
        body.lang-en .sidebar { right: auto; left: 0; }
        body.lang-en .sidebar .closebtn { right: auto; left: 25px; }

        /* Header & Menu */
        .fixed-menu-btn {
            position: fixed; top: 15px; right: 15px; z-index: 3000;
            background: rgba(5, 150, 105, 0.9); backdrop-filter: blur(5px);
            padding: 8px 12px; border-radius: 12px; color: white; cursor: pointer;
            box-shadow: 0 4px 15px rgba(0,0,0,0.2); display: flex; flex-direction: column; align-items: center;
            border: 1px solid rgba(255,255,255,0.3); transition: transform 0.2s;
        }
        .fixed-menu-btn:active { transform: scale(0.95); }
        .menu-icon-text { font-size: 11px; font-weight: bold; margin-top: -2px; }

        header {
            /* Navy Blue Background */
            background-color: var(--primary);
            padding: 20px 15px; box-shadow: 0 4px 20px rgba(30, 58, 138, 0.4);
            position: relative; display: flex; align-items: center; justify-content: space-between; 
            min-height: 110px; border-bottom-left-radius: 30px; border-bottom-right-radius: 30px;
            overflow: hidden; /* Important for Watermark */
        }

        /* --- Tiled Watermark --- */
        .header-watermark, .footer-watermark {
            position: absolute; top: 0; left: 0; width: 100%; height: 100%;
            background-image: url('1.jfif');
            background-size: 150px 150px; 
            background-repeat: repeat;
            background-position: center;
            opacity: 0.08; 
            z-index: 0; pointer-events: none;
            filter: grayscale(100%); 
        }

        .header-titles { flex-grow: 1; text-align: center; padding-right: 10px; position: relative; z-index: 2; }
        
        /* --- Moving Header Styles --- */
        .moving-header {
            color: #10b981 !important; /* Green */
            margin: 0; font-size: 1.6rem;
            display: inline-block; 
            animation: headerJump 3s infinite ease-in-out;
            font-weight: 900;
            text-shadow: 
                -2px -2px 0 #000,  
                 2px -2px 0 #000,
                -2px  2px 0 #000,
                 2px  2px 0 #000,
                 3px 3px 6px rgba(0,0,0,0.6);
        }

        header h2 { 
            color: #10b981 !important; /* Green */
            font-size: 1.2rem; 
            margin-top: 8px; 
            font-weight: 800;
            position: relative;
            z-index: 2;
            text-shadow: 
                -1.5px -1.5px 0 #000,  
                 1.5px -1.5px 0 #000,
                -1.5px  1.5px 0 #000,
                 1.5px  1.5px 0 #000,
                 2px 2px 5px rgba(0,0,0,0.5);
        }
        @keyframes headerJump { 0%, 100% { transform: translateY(0); } 50% { transform: translateY(-5px); } }

        .header-left-controls { display: flex; flex-direction: column; gap: 8px; align-items: center; z-index: 100; position: relative; }
        #liveClock {
            color: white; font-size: 0.85rem; font-weight: 600; font-family: monospace;
            background: rgba(0, 0, 0, 0.3); padding: 4px 12px; border-radius: 20px; 
            border: 1px solid rgba(255, 255, 255, 0.2); direction: ltr !important; 
        }
        .theme-toggle {
            background: rgba(255,255,255,0.15); color: white; border: 1px solid rgba(255,255,255,0.3);
            padding: 4px 12px; border-radius: 50px; cursor: pointer; font-family: var(--font-main); font-weight: bold; font-size: 0.8rem;
            backdrop-filter: blur(4px);
        }

        /* News */
        .sticky-news-wrapper {
            /* Changed from sticky to relative to scroll away */
            position: relative; top: 0; z-index: 2000; margin: 0;
            background: transparent; padding: 10px 15px;
        }
        #news-list { display: inline-block; white-space: nowrap; animation: tickerMove 200s linear infinite !important; }
        body.dark-mode #news-list { color: #fcd34d !important; text-shadow: 0 0 2px rgba(0,0,0,0.5); }
        @keyframes tickerMove { 0% { transform: translateX(0%); } 100% { transform: translateX(100%); } }

        /* Notification Button */
        .notif-btn {
            background: #f59e0b; color: #fff; border: none; padding: 4px 10px;
            border-radius: 8px; cursor: pointer; font-size: 1rem; margin-right: 8px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
            animation: pulse-btn 2s infinite;
        }
        @keyframes pulse-btn { 0% { transform: scale(1); } 50% { transform: scale(1.1); } 100% { transform: scale(1); } }

    /* Sidebar */
.sidebar {
    height: 100%; /* Ú¯Û†Ú•ÛŒÙ†ÛŒ vh Ø¨Û† % Ø¨Ø§Ø´ØªØ±Û• Ø¨Û† Ø²ÙˆÙˆÙ… */
    width: 0;
    position: fixed;
    z-index: 4000;
    top: 0;
    right: 0;
    bottom: 0; /* Ø¦Û•Ù…Û• Ø¯ÚµÙ†ÛŒØ§Øª Ø¯Û•Ú©Ø§ØªÛ•ÙˆÛ• Ú©Û• Ø¨Ù†ÛŒ Ù„ÛŒØ³ØªÛ•Ú©Û• Ø¨Ù†ÛŒ Ø´Ø§Ø´Û•Ú©Û•ÛŒÛ• */
    
    background-color: var(--sidebar-bg);
    overflow-x: hidden;
    overflow-y: auto; /* Ø³Ú©Ø±Û†Úµ Ú©Ø§Ø± Ø¯Û•Ú©Ø§Øª */
    
    transition: 0.4s;
    padding-top: 40px;
    padding-bottom: 100px; /* Ø¨Û†Ø´Ø§ÛŒÛŒ Ø®ÙˆØ§Ø±Û•ÙˆÛ• */
    
    box-sizing: border-box; /* <--- Ø¦Û•Ù…Û• Ú©Ù„ÛŒÙ„ÛŒ Ú†Ø§Ø±Û•Ø³Û•Ø±Û•Ú©Û•ÛŒÛ• */
    
    box-shadow: -5px 0 25px rgba(0,0,0,0.2);
    border-left: 1px solid rgba(255,255,255,0.1);
}
        
        /* --- FLAG ANIMATION --- */
        .flag-container {
            width: 120px; height: 75px; margin: 15px auto 20px auto; 
            position: relative; z-index: 10; perspective: 1000px;
        }
        .flag-pole {
            position: absolute; left: -8px; top: -10px; width: 8px; height: 140%; 
            background: linear-gradient(90deg, #444, #111, #000); border-radius: 4px; z-index: 5; 
            box-shadow: 2px 2px 5px rgba(0,0,0,0.5);
        }
        .real-flag {
            width: 100%; height: 100%; 
            background-image: url('1.jfif'); background-size: cover; background-position: center; background-color: white;
            position: relative; transform-origin: left center;
            clip-path: polygon(
                0% 0%, 10% 3%, 20% 0%, 30% 3%, 40% 0%, 50% 3%, 60% 0%, 70% 3%, 80% 0%, 90% 3%, 100% 0%, 
                100% 100%, 90% 97%, 80% 100%, 70% 97%, 60% 100%, 50% 97%, 40% 100%, 30% 97%, 20% 100%, 10% 97%, 0% 100%
            );
            animation: wave-flag 4s ease-in-out infinite alternate;
        }
        .real-flag::before {
            content: ""; position: absolute; top: 0; left: 0; width: 100%; height: 100%;
            background: linear-gradient(110deg, rgba(255,255,255,0) 20%, rgba(255,255,255,0.3) 50%, rgba(255,255,255,0) 80%);
            background-size: 200% 100%; mix-blend-mode: overlay; pointer-events: none;
            animation: wave-shine 2.5s infinite linear;
        }
        @keyframes wave-flag { 0% { transform: rotateY(0deg); } 50% { transform: rotateY(-12deg) skewY(2deg); } 100% { transform: rotateY(0deg); } }
        @keyframes wave-shine { 0% { background-position: -150% 0; } 100% { background-position: 150% 0; } }

        .sidebar a {
            padding: 15px 25px; text-decoration: none; font-size: 1.1rem; color: white; 
            display: block; transition: 0.3s; border-bottom: 1px solid rgba(255,255,255,0.1); font-weight: 600;
        }
        .sidebar a:hover { background-color: rgba(0, 0, 0, 0.1); padding-right: 35px; }
        .sidebar .closebtn { position: absolute; top: 5px; right: 20px; font-size: 36px; margin-left: 50px; color: white; }
        .sidebar-overlay { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.5); z-index: 3500; display: none; backdrop-filter: blur(2px); }

        /* Content Areas */
        .main-container { max-width: 1000px; margin: -20px auto 50px auto; padding: 0 15px; position: relative; z-index: 10; }
        .tabs { display: none; }
        .semester-content {
            display: none; background: var(--white); padding: 25px; border-radius: 25px; 
            box-shadow: 0 10px 30px rgba(0,0,0,0.05); animation: fadeIn 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            border: 1px solid var(--table-border);
        }
        .semester-content.active { display: block; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(15px); } to { opacity: 1; transform: translateY(0); } }

        /* Tab Buttons */
        .tab-btn {
            padding: 12px 20px; border: none; border-radius: 16px; font-size: 1rem; font-weight: 700; cursor: pointer;
            transition: all 0.3s; color: var(--text-color); background-color: var(--white); 
            box-shadow: 0 4px 6px rgba(0,0,0,0.05); font-family: var(--font-main);
            border: 1px solid transparent;
        }
        .tab-btn:hover { transform: translateY(-3px); box-shadow: 0 6px 12px rgba(0,0,0,0.08); border-color: var(--secondary); }
        .tab-btn.active { 
            background-color: var(--secondary); color: white; 
            transform: scale(1.05); box-shadow: 0 8px 20px rgba(5, 150, 105, 0.3); 
        }

        /* --- Ø³ØªØ§ÛŒÙ„ÛŒ Ù†ÙˆÛ Ø¨Û† Ø¯ÙˆÚ¯Ù…Û• Ú†Ø§Ù„Ø§Ú©Û•Ú©Ø§Ù† (Ø¯Ø§ÙˆØ§Ú©Ø§Ø±ÛŒÛŒÛ•Ú©Û•) --- */
        /* Ø¦Û•Ù…Û• Ø¨Û† Ù…Û†Ø¯ÛŒ Ú•ÙˆÙˆÙ†Ø§Ú© (Light Mode) */
        .active-btn {
            border: 3px solid #1e3a8a !important; /* Ú†ÙˆØ§Ø±Ú†ÛÙˆÛ•ÛŒ Ø´ÛŒÙ† Ø¨Û† Ø¦Û•ÙˆÛ•ÛŒ Ø¨Û• Ú•Û†Ú˜ Ø¯ÛŒØ§Ø± Ø¨ÛØª */
            box-shadow: 0 0 15px rgba(30, 58, 138, 0.4) !important;
            transform: scale(1.1) !important;
            z-index: 10;
            font-weight: 900 !important;
        }

        /* Ø¦Û•Ù…Û• Ø¨Û† Ù…Û†Ø¯ÛŒ Ø´Û•Ùˆ (Dark Mode) - Ø¦Û†Ú¤Û•Ø±Ú•Ø§ÛŒØ¯ Ø¯Û•Ú©Ø§Øª */
        body.dark-mode .active-btn {
            border: 3px solid #ffffff !important; /* Ú†ÙˆØ§Ø±Ú†ÛÙˆÛ•ÛŒ Ø³Ù¾ÛŒ Ø¨Û† Ø¦Û•ÙˆÛ•ÛŒ Ø¨Û• Ø´Û•Ùˆ Ø¯ÛŒØ§Ø± Ø¨ÛØª */
            box-shadow: 0 0 15px rgba(255, 255, 255, 0.5) !important;
        }

        /* Scroller */
        .scrolling-container { 
            height: 450px; overflow: hidden; position: relative; border-radius: 30px;
            background: linear-gradient(135deg, #059669 0%, #10b981 100%); 
            box-shadow: 0 15px 40px rgba(5, 150, 105, 0.25);
        }
        .scrolling-content { display: block; width: 100%; padding-top: 50px; animation: continuousScroll 45s linear infinite; }
        .scrolling-container:hover .scrolling-content { animation-play-state: paused; }
        
        @media screen and (max-width: 768px) {
            .scrolling-container { height: 580px; }
            .scrolling-content { animation-duration: 60s; padding-bottom: 50px; }
            .scroll-item h2 { font-size: 1.6rem !important; }
            .scroll-item p { font-size: 1.1rem !important; }
        }

        .scroll-item { text-align: center; width: 100%; box-sizing: border-box; padding: 0 20px; margin-bottom: 100px; }
        @keyframes continuousScroll { 0% { transform: translateY(0); } 100% { transform: translateY(-50%); } }
        .highlight-menu-word { color: #ffffff; background: rgba(255,255,255,0.2); padding: 2px 8px; border-radius: 6px; border: 1px dashed rgba(255,255,255,0.5); }

        /* GPA - Modern Cards & Updates */
        .gpa-info-box {
            background: #dcfce7; color: #166534; padding: 12px; border-radius: 12px; margin-bottom: 20px; font-weight: bold; border: 1px solid #10b981; text-align: center;
        }
        body.dark-mode .gpa-info-box { background: #064e3b; color: #d1fae5; border-color: #059669; }

        .grade-item { margin-bottom: 15px; }
        .accordion {
            background-color: var(--white); color: var(--text-color); cursor: pointer; padding: 18px 20px; width: 100%; border: 1px solid var(--table-border); 
            text-align: right; outline: none; font-size: 1rem; transition: 0.3s; border-radius: 16px; 
            font-weight: 700; box-shadow: 0 2px 8px rgba(0,0,0,0.02); display: flex; justify-content: space-between; align-items: center;
        }
        .active-accordion, .accordion:hover { background-color: #f0fdf4; border-color: var(--secondary); }
        body.dark-mode .active-accordion { background-color: #1e293b; }
        .panel { 
            padding: 0 20px; background-color: var(--white); max-height: 0; overflow: hidden; 
            transition: max-height 0.3s ease-out; margin-bottom: 10px; border-radius: 0 0 16px 16px;
            border: 1px solid var(--table-border); border-top: none;
        }
        .gpa-input-row { display: flex; justify-content: space-between; margin: 12px 0; align-items: center; border-bottom: 1px dashed #e2e8f0; padding-bottom: 8px; }
        .gpa-input-row input { 
            width: 70px; padding: 8px; border-radius: 10px; border: 1px solid #cbd5e1; text-align: center; 
            background: var(--background); color: var(--text-color); font-weight: bold; font-family: monospace;
        }
        .gpa-input-row input:focus { border-color: var(--secondary); outline: none; box-shadow: 0 0 0 3px rgba(5, 150, 105, 0.1); }
        .subject-badge { color: white; padding: 6px 14px; border-radius: 50px; font-size: 0.9rem; font-weight: 600; display: inline-block; box-shadow: 0 2px 5px rgba(0,0,0,0.1); }
        
        /* New Delete Buttons */
        .clear-btns-container { display: flex; justify-content: center; margin-top: 10px; }
        .btn-clear-sub { background: #fee2e2; color: #dc2626; border: 1px solid #fecaca; padding: 6px 12px; border-radius: 8px; font-size: 0.85rem; cursor: pointer; }
        .btn-clear-sem { background: #dc2626; color: white; border: none; padding: 12px 20px; border-radius: 12px; font-weight: bold; cursor: pointer; margin-top: 20px; width: 100%; box-shadow: 0 4px 10px rgba(220, 38, 38, 0.3); }

        /* Exam Timer */
        .countdown-box {
            background: linear-gradient(135deg, #059669, #047857); /* Green Gradient */
            color: white; padding: 25px 15px; border-radius: 24px; text-align: center;
            margin: 20px auto; box-shadow: 0 10px 30px rgba(5, 150, 105, 0.25); max-width: 100%; border: 1px solid rgba(255,255,255,0.1);
        }
        .timer-row { display: flex; justify-content: center; gap: 12px; direction: ltr; margin-top: 20px; flex-wrap: nowrap; }
        .timer-unit { display: flex; flex-direction: column; align-items: center; min-width: 65px; }
        .timer-box {
            background: rgba(255, 255, 255, 0.2); padding: 12px 0; border-radius: 16px; font-size: 1.5rem; font-weight: 800; font-family: monospace;
            width: 100%; box-shadow: inset 0 2px 5px rgba(0,0,0,0.05); border: 1px solid rgba(255,255,255,0.3); backdrop-filter: blur(5px);
        }
        .timer-label { font-size: 0.8rem; font-weight: 600; margin-top: 8px; color: #d1fae5; letter-spacing: 0.5px; }

        /* Schedule */
        .shift-selection { display: flex; gap: 15px; justify-content: center; margin-bottom: 25px; flex-wrap: wrap; }
        .shift-btn { 
            padding: 15px 35px; border: none; border-radius: 20px; font-size: 1.1rem; font-weight: bold; cursor: pointer; transition: all 0.3s; 
            font-family: var(--font-main); color: white; box-shadow: 0 8px 20px rgba(0,0,0,0.1); 
        }
        .shift-btn.morning { background: linear-gradient(135deg, #f59e0b, #d97706); }
        .shift-btn.evening { background: linear-gradient(135deg, #1e3a8a, #1e40af); }
        .shift-btn:hover { transform: translateY(-5px); box-shadow: 0 12px 25px rgba(0,0,0,0.15); }
        .shift-btn.active { transform: scale(1.05); border: 2px solid white; box-shadow: 0 0 0 4px rgba(0,0,0,0.05); }
        
        .sem-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 20px; margin-top: 20px; }
        .sem-card { 
            padding: 30px; border-radius: 24px; color: white; text-align: center; font-size: 1.2rem; font-weight: bold; 
            cursor: pointer; transition: 0.3s; box-shadow: 0 10px 20px rgba(0,0,0,0.05); position: relative; overflow: hidden;
        }
        .sem-card::before { content: ""; position: absolute; top: 0; left: 0; width: 100%; height: 100%; background: linear-gradient(to bottom, transparent, rgba(0,0,0,0.1)); }
        .sem-card:hover { transform: translateY(-8px); box-shadow: 0 20px 40px rgba(0,0,0,0.12); }
        
        .table-container { overflow-x: auto; width: 100%; border-radius: 16px; box-shadow: 0 5px 15px rgba(0,0,0,0.03); }
        table { width: 100%; border-collapse: separate; border-spacing: 0; margin-top: 0; min-width: 400px; }
        th, td { padding: 16px 12px; text-align: center; border-bottom: 1px solid var(--table-border); color: var(--text-color); font-size: 0.95rem; }
        th { background-color: var(--primary); color: white; font-weight: 600; letter-spacing: 0.5px; }
        tr:last-child td { border-bottom: none; }
        tr:nth-child(even) { background-color: rgba(0,0,0,0.01); }
        body.dark-mode th { background-color: #1e293b; }
        
        .download-btn { 
            display: inline-block; padding: 8px 16px; background-color: var(--secondary); 
            color: white !important; text-decoration: none; border-radius: 12px; 
            font-size: 0.85rem; transition: 0.2s; white-space: nowrap; font-weight: 600;
            box-shadow: 0 2px 5px rgba(5, 150, 105, 0.2);
        }
        .old-btn { background-color: #f59e0b; box-shadow: 0 2px 5px rgba(245, 158, 11, 0.2); }
        .download-btn:hover { transform: translateY(-2px); box-shadow: 0 5px 10px rgba(0,0,0,0.15); filter: brightness(1.05); }

        /* Footer */
        footer { 
            text-align: center; padding: 30px 15px; background-color: var(--primary); color: white; 
            margin-top: 60px; border-radius: 30px 30px 0 0; position: relative; overflow: hidden;
        }
        footer > * { position: relative; z-index: 2; } /* Ensure text is above watermark */
        
        .rainbow-name { 
            display: inline-block; font-size: 1.4rem; font-weight: 800; 
            background: linear-gradient(to right, #34d399, #60a5fa, #f472b6, #fbbf24, #34d399); 
            background-size: 200% auto; -webkit-background-clip: text; -webkit-text-fill-color: transparent; 
            animation: gradient-animation 4s linear infinite; margin: 8px 0;
        }
        @keyframes gradient-animation { 0% { background-position: 0% center; } 100% { background-position: 200% center; } }
        .moving-text { margin-top: 10px; font-size: 0.95rem; font-weight: 600; display: block; animation: moveText 3s infinite alternate ease-in-out; }
        @keyframes moveText { from { transform: scale(1); color: #6ee7b7; } to { transform: scale(1.03); color: #fcd34d; } }

        /* --- Dark Mode Overrides --- */
        body.dark-mode .semester-content,
        body.dark-mode .panel {
            background-color: #000000 !important;
            color: #ffffff !important;
            border-color: #333 !important;
        }
        body.dark-mode table th {
            background-color: #111111 !important; /* Dark header */
            color: #ffffff !important;
        }
        body.dark-mode table td {
            color: #ffffff !important;
            border-bottom: 1px solid #333 !important;
        }
        body.dark-mode .scroll-item h2 {
            color: #ffffff !important;
            text-shadow: none !important;
        }
        body.dark-mode .scroll-item p {
            color: #e2e8f0 !important;
        }
    </style>
</head>
<body>

<div id="loading-screen">
    <img src="it-icon-final-192.png" alt="Logo" class="loader-logo">
    <div class="loader-text">IT Chamchamal</div>
</div>

<div id="sidebarOverlay" class="sidebar-overlay" onclick="closeNav()"></div>
<div id="mySidebar" class="sidebar">
    <a href="javascript:void(0)" class="closebtn" onclick="closeNav()">Ã—</a>
    <div style="text-align: center; padding: 25px 10px; border-bottom: 1px solid rgba(255,255,255,0.1);">
        <div class="flag-container">
            <div class="flag-pole"></div>
            <div class="real-flag"></div>
        </div>
        <h2 style="margin:0; color:white; font-weight:800; font-size:1.4rem;" id="lang-dept">Ø¨Û•Ø´ÛŒ Ø¦Ø§ÛŒØªÛŒ</h2>
    </div>
    <a href="#" onclick="showSection('home-tab'); closeNav()"><span id="lang-home">ğŸ  Ø³Û•Ø±Û•Ú©ÛŒ</span></a>
    <a href="#" onclick="showSection('schedule-tab'); closeNav()"><span id="lang-schedule">ğŸ“… Ø®Ø´ØªÛ•ÛŒ Ù‡Û•ÙØªØ§Ù†Û•</span></a>
    <a href="#" onclick="showSection('semesters-tab'); closeNav()"><span id="lang-semesters">ğŸ“š Ø³Ù…Ø³ØªÛ•Ø±Û•Ú©Ø§Ù†</span></a>
    <a href="#" onclick="showSection('exam-tab'); closeNav(); checkExams();"><span id="lang-menu-exam">â³ Ú©Ø§ØªÛŒ ØªØ§Ù‚ÛŒÚ©Ø±Ø¯Ù†Û•ÙˆÛ•</span></a>
    <a href="#" onclick="showSection('gpa-tab'); closeNav()"><span id="lang-menu-gpa">ğŸ§® Ù‡Û•Ú˜Ù…Ø§Ø±Ú©Ø±Ø¯Ù†ÛŒ Ù†Ù…Ø±Û•</span></a>
    <a href="#" onclick="showSection('about-tab'); closeNav()"><span id="lang-about">â„¹ï¸ Ø¯Û•Ø±Ø¨Ø§Ø±Û•</span></a>
    <a href="#" onclick="toggleLangMenu()" style="display: flex; justify-content: space-between; align-items: center; border-bottom: 1px solid rgba(255,255,255,0.1);">
        <span>ğŸŒ <span id="lang-setting">Ø²Ù…Ø§Ù†</span></span>
        <span id="lang-arrow" style="font-size: 0.8rem; transition: transform 0.3s;">â–¼</span>
    </a>
    <div id="lang-options" style="display: none; background: rgba(0,0,0,0.1); padding: 15px; border-bottom: 1px solid rgba(255,255,255,0.1); text-align: center;">
        <div style="display: flex; justify-content: center; gap: 10px;">
            <button onclick="toggleLanguage('ku')" style="padding: 8px 20px; border-radius: 12px; border: none; background: white; cursor: pointer; font-weight: bold;">Ú©ÙˆØ±Ø¯ÛŒ</button>
            <button onclick="toggleLanguage('en')" style="padding: 8px 20px; border-radius: 12px; border: none; background: white; cursor: pointer; font-weight: bold;">English</button>
        </div>
    </div>
    <a href="https://t.me/sherwan25" target="_blank" style="color: #fbbf24;"><span id="lang-contact">ğŸ“ Ù¾Û•ÛŒÙˆÛ•Ù†Ø¯ÛŒ (Telegram)</span></a>
</div>

<div class="fixed-menu-btn" onclick="openNav()">
    <span style="font-size: 24px; line-height: 1;">â˜°</span>
    <span class="menu-icon-text" id="lang-menu">Ù„ÛŒØ³Øª</span>
</div>

<header>
    <div class="header-watermark"></div>
    <div style="width: 80px;"></div>
    <div class="header-titles">
        <h1 class="moving-header" id="lang-institute">Ù¾Û•ÛŒÙ…Ø§Ù†Ú¯Ø§ÛŒ ØªÛ•Ú©Ù†ÛŒÚ©ÛŒ Ú†Û•Ù…Ú†Û•Ù…Ø§Úµ</h1>
        <h2 id="lang-dept-sub">Ø¨Û•Ø´ÛŒ ØªÛ•Ú©Ù†Û•Ù„Û†Ú˜ÛŒØ§ÛŒ Ø²Ø§Ù†ÛŒØ§Ø±ÛŒ (IT)</h2>
    </div>
    <div class="header-left-controls">
        <div id="liveClock">00:00:00 PM</div>
        <button class="theme-toggle" onclick="cycleTheme()" id="themeBtn">Ù…Û†Ø¯ÛŒ Ø´Û•Ùˆ ğŸŒ™</button>
    </div>
</header>

<div class="main-container">
    <div class="sticky-news-wrapper">
        <div style="display: flex; flex-direction: column; align-items: flex-start; direction: rtl; width: 100%;">
            <div style="display: flex; align-items: center; margin-bottom: 5px;">
                <div id="lang-alert" style="background: var(--accent); color: white; padding: 4px 15px; border-radius: 50px; font-weight: bold; font-size: 0.85rem; box-shadow: 0 2px 5px rgba(239, 68, 68, 0.3); margin-right: 5px;">ğŸš¨ Ø¦Ø§Ú¯Ø§Ø¯Ø§Ø±ÛŒ Ú¯Ø±Ù†Ú¯</div>
                <button class="notif-btn" onclick="requestNotifyPermission()" title="Ù¾ÛÚ©Ø±Ø¯Ù†ÛŒ Ø¦Ø§Ú¯Ø§Ø¯Ø§Ø±Ú©Ø±Ø¯Ù†Û•ÙˆÛ•">ğŸ””</button>
            </div>
            <div style="background: rgba(255,255,255,0.9); border: 2px solid var(--accent); border-radius: 12px; overflow: hidden; position: relative; box-shadow: 0 4px 15px rgba(0,0,0,0.05); padding: 10px 0; width: 100%; height: 25px; backdrop-filter: blur(5px);">
                <div id="news-list" style="position: absolute; white-space: nowrap; right: 0; font-weight: bold; color: var(--text-color); font-size: 0.95rem; will-change: transform;">Ú†Ø§ÙˆÛ•Ú•Û Ø¨Ú©Û•... Ø¯ÙˆØ§ÛŒÛŒÙ† Ù‡Û•ÙˆØ§ÚµÛ•Ú©Ø§Ù† Ø¨Ø§Ø± Ø¯Û•Ú©Ø±ÛÙ†...</div>
            </div>
        </div>
    </div>

    <div class="tabs">
        <button class="tab-btn active" onclick="showTab(event, 'home-tab')"><span id="lang-tab-home">ğŸ  Ø³Û•Ø±Û•Ú©ÛŒ</span></button>
        <button class="tab-btn" onclick="showTab(event, 'schedule-tab')"><span id="lang-tab-schedule">ğŸ“… Ø®Ø´ØªÛ•ÛŒ Ù‡Û•ÙØªØ§Ù†Û•</span></button>
        <button class="tab-btn" onclick="showTab(event, 'semesters-tab')"><span id="lang-tab-semesters">ğŸ“š Ø³Ù…Ø³ØªÛ•Ø±Û•Ú©Ø§Ù†</span></button>
        <button class="tab-btn" onclick="showTab(event, 'about-tab')"><span id="lang-tab-about">â„¹ï¸ Ø¯Û•Ø±Ø¨Ø§Ø±Û•</span></button>
    </div>

    <div id="home-tab" class="semester-content active" style="padding: 0; background: transparent; box-shadow: none; border: none;">
        <div class="scrolling-container">
            <div class="scrolling-content">
                <div class="scroll-item">
                    <h2 style="color: #fbbf24; font-size: 1.9rem; text-shadow: 0 2px 10px rgba(0,0,0,0.1); margin-bottom: 20px; border-bottom: 2px dashed rgba(255,255,255,0.3); padding-bottom: 15px;">
                        Ø¨Û•Ø®ÛØ±Ø¨ÛÙ† Ø®ÙˆÛÙ†Ø¯Ú©Ø§Ø±Ø§Ù†ÛŒ Ø¦Ø§Ø²ÛŒØ²ÛŒ Ø¨Û•Ø´ÛŒ ØªÛ•Ú©Ù†Û•Ù„Û†Ú˜ÛŒØ§ÛŒ Ø²Ø§Ù†ÛŒØ§Ø±ÛŒ (IT)
                    </h2>
                    <p style="font-size: 1.3rem; line-height: 1.8; margin-bottom: 25px; color: #f0fdf4; font-weight: 500;">
                        Ø¦Û•Ù… ÙˆÛØ¨Ø³Ø§ÛŒØªÛ• Ø¯Ø±ÙˆØ³ØªÚ©Ø±Ø§ÙˆÛ• Ø¨Û† Ø¦Û•ÙˆÛ•ÛŒ ØªÛ†ÛŒ Ø®ÙˆÛÙ†Ø¯Ú©Ø§Ø± Ù„ÛÛŒ Ø³ÙˆÙˆØ¯Ù…Û•Ù†Ø¯ Ø¨ÛŒØª Ùˆ Ú©Ø§Ø±Ø¦Ø§Ø³Ø§Ù†ÛŒÛŒÛ•Ú© Ø¨ÛØª Ø¨Û† Ø®ÙˆÛÙ†Ø¯Ù†ÛŒ ÙˆØ§Ù†Û•Ú©Ø§Ù†ÛŒ Ú•Û†Ú˜Ø§Ù†Û•Øª Ø¨Û• ÙƒØ±ØªÛ• ÙƒØ±Ø¯Ù† Ù„Û•Ø³Û•Ø± <span class="highlight-menu-word">" Ù„ÛŒØ³Øª "</span> ÙƒÛ• Ù„Û• Ø±Ø§Ø³ØªÛŒ Ø¨Û•Ø´ÛŒ Ø³Û•Ø±Û•ÙˆÛ•ÛŒ ÙˆÛŒØ¨ Ø³Ø§ÛŒØªÛ•ÙƒÛ•Ø¯Ø§ÛŒÛ•.
                    </p>
                    <div style="background: rgba(255,255,255,0.15); padding: 25px; border-radius: 20px; margin-bottom: 15px; text-align: right; direction: rtl; backdrop-filter: blur(5px); border: 1px solid rgba(255,255,255,0.1);">
                        <p style="font-size: 1.2rem; margin: 10px 0; color: #fff;">ğŸ”¹ <b>Ø¨Û•Ø´ÛŒ Ø³Ù…Ø³ØªÛ•Ø±Û•Ú©Ø§Ù†:</b></p>
                        <p style="font-size: 1.1rem; margin: 5px 20px 15px 0; color: #e0f2fe;">Ù¡. Ø¨Û• Ú©Ø±ØªÛ• Ú©Ø±Ø¯Ù† Ù„Û•Ø³Û•Ø± Ù…Û•Ù„Ø²Û•Ù…Û•Ú©Ø§Ù†ØŒ Ù‡Û•Ù…ÙˆÙˆ Ù…Û•Ù„Ø²Û•Ù…Û•Ú©Ø§Ù†ÛŒ ÙˆØ§Ù†Û•Ú©Û•Øª Ø¯Û•Ø³Øª Ø¯Û•Ú©Û•ÙˆÛØª.</p>
                        <p style="font-size: 1.1rem; margin: 5px 20px 15px 0; color: #e0f2fe;">Ù¢. Ø¨Û• Ú©Ø±ØªÛ• Ú©Ø±Ø¯Ù† Ù„Û•Ø³Û•Ø± Ø¨Û•Ø´ÛŒ Ù¾Ø±Ø³ÛŒØ§Ø±ØŒ Ù¾Ø±Ø³ÛŒØ§Ø±ÛŒ Ø³Ø§ÚµØ§Ù†ÛŒ Ú•Ø§Ø¨Ø±Ø¯ÙˆÙˆØª Ø¯Û•Ø³Øª Ø¯Û•Ú©Û•ÙˆÛØª.</p>
                        <p style="font-size: 1.1rem; margin: 5px 20px 15px 0; color: #e0f2fe;">Ù£. Ø¨Û• Ú©Ø±ØªÛ• Ú©Ø±Ø¯Ù† Ù„Û•Ø³Û•Ø± Ø¨Û•Ø´ÛŒ ÙÛØ±Ú©Ø§Ø±ÛŒØŒ Ø¯Û•ØªØ¨Ø§ØªÛ• Ù†Ø§Ùˆ Ù¾Ù„Û•ÛŒ Ù„ÛŒØ³ØªÛŒ ÛŒÙˆØªÛŒÙˆØ¨ Ùˆ ÙÛØ±Ú©Ø§Ø±ÛŒ Ø¦Û•Ùˆ Ø¨Ø§Ø¨Û•ØªÛ•.</p>
                        
                        <p style="font-size: 1.2rem; margin: 15px 0 5px 0; color: #fff;">ğŸ“… <b>Ø¨Û•Ø´ÛŒ Ø®Ø´ØªÛ•ÛŒ Ù‡Û•ÙØªØ§Ù†Û•:</b></p>
                        <p style="font-size: 1.1rem; margin: 5px 20px 0 0; color: #e0f2fe;">Ø®Ø´ØªÛ•ÛŒ ÙˆØ§Ù†Û•Ú©Ø§Ù†ÛŒ Ú•Û†Ú˜Ø§Ù†Û•ÛŒ Ù‡Û•Ø±Ø¯ÙˆÙˆ Ø¯Û•ÙˆØ§Ù…ÛŒ Ø¨Û•ÛŒØ§Ù†ÛŒØ§Ù† Ùˆ Ø¦ÛÙˆØ§Ø±Ù†ÛŒ ØªÛØ¯Ø§ÛŒÛ• Ø¨Û† Ù‡Û•Ø±Ø¯ÙˆÙˆ Ú¯Ø±ÙˆÙˆÙ¾.</p>
                        <p style="font-size: 1.1rem; margin-top: 15px; color: #d1fae5;">
                            <b>Ø¨Û•Ø´ÛŒ Ø²Ù…Ø§Ù†:</b> Ø¯Û•ØªÙˆØ§Ù†ÛŒØª Ø¬Ú¯Û• Ù„Û• Ø²Ù…Ø§Ù†ÛŒ ÙƒÙˆØ±Ø¯ÛŒ Ø²Ù…Ø§Ù†ÛŒ Ø¦ÛŒÙ†Ú¯Ù„ÛŒØ²ÛŒ Ù‡Û•ÚµØ¨Ú˜ÛØ±ÛŒØª<br>
                            <b>Ø¨Û•Ø´ÛŒ ÙƒØ§ØªÛŒ ØªØ§Ù‚ÛŒÙƒØ±Ø¯Ù†Û•ÙˆÛ•:</b> Ø¯Û•ØªÙˆØ§Ù†ÛŒØª Ù„ÛŒØ±Û•ÙˆÛ• ÙƒØ§ØªÛŒ ØªØ§Ù‚ÛŒÙƒØ±Ø¯Ù†Û•ÙˆÛ•ÙƒØ§Ù† Ø¨Ø²Ø§Ù†ÛŒØª<br>
                            <b>Ø¨Û•Ø´ÛŒ Ù‡Û•Ú˜Ù…Ø§Ø±ÛŒ Ù†Ù…Ø±Û•ÙƒØ§Ù†:</b> Ø¯Û•ØªÙˆØ§Ù†ÛŒØª Ù„ÛŒØ±Û• Ù†Ù…Ø±Û•ÙƒØ§Ù† ÙƒÛ†Ø¨ÙƒÛ•ÛŒØªÛ•ÙˆÛ•
                        </p>
                    </div>
                    <h3 style="color: #6ee7b7; font-size: 1.6rem; margin-top: 25px; text-shadow: 0 2px 5px rgba(0,0,0,0.1);">Ø¨Û•Ù‡ÛŒÙˆØ§ÛŒ Ø³Û•Ø±Ú©Û•ÙˆØªÙ† Ø¨Û† Ù‡Û•Ù…ÙˆÙˆ Ø®ÙˆÛÙ†Ø¯Ú©Ø§Ø±Ø§Ù†</h3>
                    <div style="margin-top: 30px; padding: 20px; background: rgba(0,0,0,0.15); border-radius: 20px; border: 1px solid rgba(255,255,255,0.1);">
                        <p style="font-size: 1.1rem; color: #ffffff; margin-bottom: 10px;">
                            Ø³ÙˆÙ¾Ø§Ø³ Ø¨Û† Ù‡Û•Ø±Ø¯ÙˆÙˆ Ø®ÙˆÛÙ†Ø¯Ú©Ø§Ø± <b style="color: #fbbf24;">(Ù…Ø­Ù…Ø¯ Ø§Ø³Ù…Ø§Ø¹ÛŒÙ„)</b> Ùˆ <b style="color: #fbbf24;">(Ù…Ø­Ù…Ø¯ Ø¨ÛØ³ØªÙˆÙ†)</b>
                        </p>
                        <p style="font-size: 1rem; color: #a7f3d0; font-weight: bold;">Ú©Û• Ù‡Ø§ÙˆÚ©Ø§Ø± Ø¨ÙˆÙˆÙ† Ù„Û• Ø¯Ø±ÙˆØ³ØªÚ©Ø±Ø¯Ù†ÛŒ Ø¦Û•Ù… ÙˆÛØ¨Ø³Ø§ÛŒØªÛ•Ø¯Ø§</p>
                    </div>
                </div>
                <div class="scroll-item">
                     <h2 style="color: #fbbf24; font-size: 1.9rem; margin-bottom: 20px;">
                        Ø¨Û•Ø®ÛØ±Ø¨ÛÙ† Ø®ÙˆÛÙ†Ø¯Ú©Ø§Ø±Ø§Ù†ÛŒ Ø¦Ø§Ø²ÛŒØ²ÛŒ Ø¨Û•Ø´ÛŒ ØªÛ•Ú©Ù†Û•Ù„Û†Ú˜ÛŒØ§ÛŒ Ø²Ø§Ù†ÛŒØ§Ø±ÛŒ (IT)
                    </h2>
                     <p style="font-size: 1.3rem; line-height: 1.8; margin-bottom: 20px; color: #f0fdf4; font-weight: 500;">
                        Ø¦Û•Ù… ÙˆÛØ¨Ø³Ø§ÛŒØªÛ• Ø¯Ø±ÙˆØ³ØªÚ©Ø±Ø§ÙˆÛ• Ø¨Û† Ø¦Û•ÙˆÛ•ÛŒ ØªÛ†ÛŒ Ø®ÙˆÛÙ†Ø¯Ú©Ø§Ø± Ù„ÛÛŒ Ø³ÙˆÙˆØ¯Ù…Û•Ù†Ø¯ Ø¨ÛŒØª...
                    </p>
                </div>
            </div>
        </div>
    </div>

    <div id="exam-tab" class="semester-content">
        <h3 style="text-align: center; color: var(--primary); margin-bottom: 20px;" id="lang-exam-header">â³ Ú©Ø§ØªÛŒ Ù…Ø§ÙˆÛ• Ø¨Û† ØªØ§Ù‚ÛŒÚ©Ø±Ø¯Ù†Û•ÙˆÛ•Ú©Ø§Ù†</h3>
        <div id="exams-container"></div>
    </div>

    <div id="gpa-tab" class="semester-content">
        <h3 style="text-align: center; color: var(--primary);" id="lang-gpa-header">ğŸ§® Ù‡Û•Ú˜Ù…Ø§Ø±Ú©Ø±Ø¯Ù†ÛŒ Ù†Ù…Ø±Û•Ú©Ø§Ù†</h3>
        
        <div class="gpa-info-box">
            ğŸ“Œ ØªÛØ¨ÛŒÙ†ÛŒ: Ù†Ù…Ø±Û•Ú©Ø§Ù†Øª Ø¨Û• Ø´ÛÙˆÛ•ÛŒÛ•Ú©ÛŒ Ø®Û†Ú©Ø§Ø± Ù„Û• Ù†Ø§Ùˆ Ù…Û†Ø¨Ø§ÛŒÙ„Û•Ú©Û•ØªØ¯Ø§ Ù¾Ø§Ø´Û•Ú©Û•ÙˆØª Ø¯Û•Ø¨Ù† Ùˆ Ø¨Û• Ø¯Ø§Ø®Ø³ØªÙ†ÛŒ Ø¦Û•Ù¾Û•Ú©Û• ÛŒØ§Ù† Ù†ÙˆÛÚ©Ø±Ø¯Ù†Û•ÙˆÛ•ÛŒ Ø³Ø§ÛŒØªÛ•Ú©Û• Ù†Ø§Ø³Ú•ÛÙ†Û•ÙˆÛ•.
        </div>

        <div style="display: flex; justify-content: center; margin-bottom: 25px;">
            <select id="gpa-sem-select" onchange="renderGrading()" style="padding: 12px 20px; border-radius: 12px; font-family: var(--font-main); font-size: 1rem; border: 2px solid var(--secondary); background: var(--background); color: var(--text-color); font-weight: bold; outline: none; cursor: pointer;">
                <option value="1">Ø³Ù…Ø³ØªÛ•Ø±ÛŒ Ù¡</option>
                <option value="2">Ø³Ù…Ø³ØªÛ•Ø±ÛŒ Ù¢</option>
                <option value="3">Ø³Ù…Ø³ØªÛ•Ø±ÛŒ Ù£</option>
                <option value="4">Ø³Ù…Ø³ØªÛ•Ø±ÛŒ Ù¤</option>
            </select>
        </div>
        <div id="grading-container"></div>
        
        <button class="btn-clear-sem" onclick="resetSemesterGrades()">ğŸ—‘ï¸ Ø³Ú•ÛŒÙ†Û•ÙˆÛ•ÛŒ Ù‡Û•Ù…ÙˆÙˆ ÙˆØ§Ù†Û•Ú©Ø§Ù†ÛŒ Ø¦Û•Ù… Ø³Ù…Ø³ØªÛ•Ø±Û•</button>
    </div>

    <div id="schedule-tab" class="semester-content">
        <h3 style="text-align:center;" id="lang-sched-header">ğŸ“… Ø®Ø´ØªÛ•ÛŒ Ù‡Û•ÙØªØ§Ù†Û• (Ø¬Û•Ø¯Û†Ù„)</h3>
        <div class="shift-selection">
            <button class="shift-btn morning" onclick="selectShift('morning')"><span id="lang-morning">â˜€ï¸ Ø¯Û•ÙˆØ§Ù…ÛŒ Ø¨Û•ÛŒØ§Ù†ÛŒØ§Ù†</span></button>
            <button class="shift-btn evening active" onclick="selectShift('evening')"><span id="lang-evening">ğŸŒ™ Ø¯Û•ÙˆØ§Ù…ÛŒ Ø¦ÛÙˆØ§Ø±Ù†</span></button>
        </div>
        <div style="display: flex; gap: 8px; justify-content: center; margin-bottom: 15px; flex-wrap: wrap;">
            <button id="btn-sem-1" class="tab-btn sem-btn" style="background:#3b82f6; color:white;" onclick="setSem(1)"><span id="lang-sem-btn1">Ø³Ù…Ø³ØªÛ•Ø±ÛŒ Ù¡</span></button>
            <button id="btn-sem-2" class="tab-btn sem-btn" style="background:#10b981; color:white;" onclick="setSem(2)"><span id="lang-sem-btn2">Ø³Ù…Ø³ØªÛ•Ø±ÛŒ Ù¢</span></button>
            <button id="btn-sem-3" class="tab-btn sem-btn" style="background:#f59e0b; color:white;" onclick="setSem(3)"><span id="lang-sem-btn3">Ø³Ù…Ø³ØªÛ•Ø±ÛŒ Ù£</span></button>
            <button id="btn-sem-4" class="tab-btn sem-btn" style="background:#8b5cf6; color:white;" onclick="setSem(4)"><span id="lang-sem-btn4">Ø³Ù…Ø³ØªÛ•Ø±ÛŒ Ù¤</span></button>
        </div>
        <div id="group-selection" style="display: none; gap: 15px; justify-content: center; margin-bottom: 25px;">
            <button id="btn-grp-A" class="tab-btn grp-btn" style="background:linear-gradient(135deg, #3b82f6, #2563eb); color:white;" onclick="selectGroup('A')">Group A ğŸ”µ</button>
            <button id="btn-grp-B" class="tab-btn grp-btn" style="background:linear-gradient(135deg, #10b981, #059669); color:white;" onclick="selectGroup('B')">Group B ğŸŸ¢</button>
            <button id="btn-grp-C" class="tab-btn grp-btn" style="background:linear-gradient(135deg, #f59e0b, #d97706); color:white; display:none;" onclick="selectGroup('C')">Group C ğŸŸ¡</button>
        </div>
        <h3 id="group-display-title" style="text-align: center; color: var(--secondary); margin-bottom: 15px; font-weight: bold; display: none;"></h3>
        <div id="daysArea" style="text-align:center; margin-bottom:20px;"></div>
        <div id="schedule-box" style="display:none;">
            <div class="table-container">
                <table style="border: 2px solid var(--table-border);">
                    <thead><tr><th id="lang-tbl-no">Ú˜Ù…Ø§Ø±Û•</th><th id="lang-tbl-sub">Ø¨Ø§Ø¨Û•Øª</th><th id="lang-tbl-time">Ú©Ø§Øª</th><th id="lang-tbl-teacher">Ù…Ø§Ù…Û†Ø³ØªØ§</th></tr></thead>
                    <tbody id="schedule-body"></tbody>
                </table>
            </div>
        </div>
    </div>

    <div id="semesters-tab" class="semester-content">
        <h2 style="text-align: center; color: var(--primary);" id="lang-choose-sem">Ù‡Û•ÚµØ¨Ú˜Ø§Ø±Ø¯Ù†ÛŒ Ø³Ù…Ø³ØªÛ•Ø±</h2>
        <div class="sem-grid">
            <div class="sem-card" style="background: linear-gradient(135deg, #3b82f6, #2563eb);" onclick="openInnerSem('sem1')"><span id="lang-card-sem1">ğŸ“š Ø³Ù…Ø³ØªÛ•Ø±ÛŒ ÛŒÛ•Ú©Û•Ù…</span></div>
            <div class="sem-card" style="background: linear-gradient(135deg, #10b981, #059669);" onclick="openInnerSem('sem2')"><span id="lang-card-sem2">ğŸ“š Ø³Ù…Ø³ØªÛ•Ø±ÛŒ Ø¯ÙˆÙˆÛ•Ù…</span></div>
            <div class="sem-card" style="background: linear-gradient(135deg, #f59e0b, #d97706);" onclick="openInnerSem('sem3')"><span id="lang-card-sem3">ğŸ“š Ø³Ù…Ø³ØªÛ•Ø±ÛŒ Ø³ÛÛŒÛ•Ù…</span></div>
            <div class="sem-card" style="background: linear-gradient(135deg, #8b5cf6, #7c3aed);" onclick="openInnerSem('sem4')"><span id="lang-card-sem4">ğŸ“š Ø³Ù…Ø³ØªÛ•Ø±ÛŒ Ú†ÙˆØ§Ø±Û•Ù…</span></div>
        </div>
        <hr style="margin: 40px 0; border: 0; border-top: 1px solid var(--table-border);">
    
        <div id="sem1" class="inner-sem-content" style="display: none;">
            <h3 style="color: #3b82f6; border-right: 5px solid #3b82f6; padding-right: 10px; margin-bottom: 20px;">ÙˆØ§Ù†Û•Ú©Ø§Ù†ÛŒ Ø³Ù…Ø³ØªÛ•Ø±ÛŒ ÛŒÛ•Ú©Û•Ù…</h3>
            <div class="table-container">
                <table>
                    <thead><tr><th class="th-sub">Ù†Ø§ÙˆÛŒ ÙˆØ§Ù†Û•</th><th class="th-lec">Ù…Û•Ù„Ø²Û•Ù…Û•</th><th class="th-qs">Ù¾Ø±Ø³ÛŒØ§Ø±</th><th class="th-tut">ÙÛØ±ÙƒØ§Ø±ÛŒ</th></tr></thead>
                    <tbody>
                        <tr><td><span class="subject-badge" style="background-color: #ef4444;">Logic Design</span></td><td><a href="https://drive.google.com/drive/folders/16v8Zf_xiCYPCkcPib7bIS_ah4hk6dDPj" target="_blank" class="download-btn btn-dl">Ø¯Ø§Ú¯Ø±ØªÙ†</a></td><td><a href="https://drive.google.com/drive/folders/1w4lv3S1wskIFRmJzgrR3m_Vib2SzklOv" target="_blank" class="download-btn old-btn btn-view">Ø¨ÛŒÙ†ÛŒÙ†</a></td><td><a href="https://www.youtube.com/playlist?list=PLCfnFVb0wrYroYmhAU2fJR9nD8TqUjSy0" target="_blank" class="download-btn btn-vid" style="background-color: #ef4444;">ğŸ¥ Ú¤ÛŒØ¯ÛŒÛ†</a></td></tr>
                        <tr><td><span class="subject-badge" style="background-color: #10b981;">IT Fundamentals</span></td><td><a href="https://drive.google.com/drive/folders/1MUimiqD30yYTs1U53IVkb2B4lZn8Q5Dx" target="_blank" class="download-btn btn-dl">Ø¯Ø§Ú¯Ø±ØªÙ†</a></td><td><a href="https://drive.google.com/drive/folders/1dqo6IA60wMPzrD-tpE92e_NPb1x9MlGY" target="_blank" class="download-btn old-btn btn-view">Ø¨ÛŒÙ†ÛŒÙ†</a></td><td><a href="https://www.youtube.com/playlist?list=PLCfnFVb0wrYrrG8eEF0VjVu5bctbCZfGf" target="_blank" class="download-btn btn-vid" style="background-color: #ef4444;">ğŸ¥ Ú¤ÛŒØ¯ÛŒÛ†</a></td></tr>
                        <tr><td><span class="subject-badge" style="background-color: #8b5cf6;">Mathematics</span></td><td><a href="https://drive.google.com/drive/folders/15oJqsrWSfqplqdO2XPV88UmI0mpsK7Tv" target="_blank" class="download-btn btn-dl">Ø¯Ø§Ú¯Ø±ØªÙ†</a></td><td><a href="https://drive.google.com/drive/folders/1txr0hJgSoTuRse6Zj7ARdxDWIPtjcI8C" target="_blank" class="download-btn old-btn btn-view">Ø¨ÛŒÙ†ÛŒÙ†</a></td><td><a href="https://www.youtube.com/playlist?list=PLCfnFVb0wrYoBgOnmKoAf1t8CqbS4dcQh" target="_blank" class="download-btn btn-vid" style="background-color: #ef4444;">ğŸ¥ Ú¤ÛŒØ¯ÛŒÛ†</a></td></tr>
                        <tr><td><span class="subject-badge" style="background-color: #f59e0b;">English</span></td><td><a href="https://drive.google.com/drive/folders/1D9DL2xHQRVJYSFlQB6BUDStWt_qKF0QI" target="_blank" class="download-btn btn-dl">Ø¯Ø§Ú¯Ø±ØªÙ†</a></td><td><a href="https://drive.google.com/drive/folders/1s2q2r18eHAAwEwvagR2r0d0WjIR2_ZVe" target="_blank" class="download-btn old-btn btn-view">Ø¨ÛŒÙ†ÛŒÙ†</a></td><td><a href="#" class="download-btn btn-vid" style="background-color: #ef4444;">ğŸ¥ Ú¤ÛŒØ¯ÛŒÛ†</a></td></tr>
                        <tr><td><span class="subject-badge" style="background-color: #475569;">Kurdology</span></td><td><a href="https://drive.google.com/drive/folders/1zktjZlnocNqLwQIeJZ_S0jb4hhWgYc0C" target="_blank" class="download-btn btn-dl">Ø¯Ø§Ú¯Ø±ØªÙ†</a></td><td><a href="https://drive.google.com/drive/folders/1SIpy883RCPN4cvpFy2TPx7ea5TZvcppM" target="_blank" class="download-btn old-btn btn-view">Ø¨ÛŒÙ†ÛŒÙ†</a></td><td><a href="#" class="download-btn btn-vid" style="background-color: #ef4444;">ğŸ¥ Ú¤ÛŒØ¯ÛŒÛ†</a></td></tr>
                    </tbody>
                </table>
            </div>
        </div>
    
        <div id="sem2" class="inner-sem-content" style="display: none;">
            <h3 style="color: #10b981; border-right: 5px solid #10b981; padding-right: 10px; margin-bottom: 20px;">ÙˆØ§Ù†Û•Ú©Ø§Ù†ÛŒ Ø³Ù…Ø³ØªÛ•Ø±ÛŒ Ø¯ÙˆÙˆÛ•Ù…</h3>
            <div class="table-container">
                <table>
                    <thead><tr><th class="th-sub">Ù†Ø§ÙˆÛŒ ÙˆØ§Ù†Û•</th><th class="th-lec">Ù…Û•Ù„Ø²Û•Ù…Û•</th><th class="th-qs">Ù¾Ø±Ø³ÛŒØ§Ø±</th><th class="th-tut">ÙÛØ±ÙƒØ§Ø±ÛŒ</th></tr></thead>
                    <tbody>
                        <tr><td><span class="subject-badge" style="background-color: #d97706;">Database</span></td><td><a href="https://drive.google.com/drive/folders/1v1cPSMwNCzJ93P3if77aBSH3R6lQ6W46?usp=drive_link" target="_blank" class="download-btn btn-dl">Ø¯Ø§Ú¯Ø±ØªÙ†</a></td><td><a href="https://drive.google.com/drive/folders/1l7794MSA8kAzET6vRpqF9Jib8WYHgiT2?usp=drive_link" target="_blank" class="download-btn old-btn btn-view">Ø¨ÛŒÙ†ÛŒÙ†</a></td><td><a href="#" class="download-btn btn-vid" style="background-color: #ef4444;">ğŸ¥ Ú¤ÛŒØ¯ÛŒÛ†</a></td></tr>
                        <tr><td><span class="subject-badge" style="background-color: #f59e0b;">English II</span></td><td><a href="https://drive.google.com/drive/folders/1Se6yT_wi37QdwuHdhegGua9wgRCpRF4z?usp=drive_link" target="_blank" class="download-btn btn-dl">Ø¯Ø§Ú¯Ø±ØªÙ†</a></td><td><a href="https://drive.google.com/drive/folders/1gUhKAX-3B-RZQh64dq0OD86DzrKaPyoJ?usp=drive_link" target="_blank" class="download-btn old-btn btn-view">Ø¨ÛŒÙ†ÛŒÙ†</a></td><td><a href="#" class="download-btn btn-vid" style="background-color: #ef4444;">ğŸ¥ Ú¤ÛŒØ¯ÛŒÛ†</a></td></tr>
                        <tr><td><span class="subject-badge" style="background-color: #3b82f6;">Network +</span></td><td><a href="https://drive.google.com/drive/folders/1j5V28ybYfoILvt24CaTZ-2I9gFJ5BBN9?usp=drive_link" target="_blank" class="download-btn btn-dl">Ø¯Ø§Ú¯Ø±ØªÙ†</a></td><td><a href="https://drive.google.com/drive/folders/1JzjJsKXJGT55thGJ8443iUhhAutQ-N_-?usp=drive_link" target="_blank" class="download-btn old-btn btn-view">Ø¨ÛŒÙ†ÛŒÙ†</a></td><td><a href="#" class="download-btn btn-vid" style="background-color: #ef4444;">ğŸ¥ Ú¤ÛŒØ¯ÛŒÛ†</a></td></tr>
                        <tr><td><span class="subject-badge" style="background-color: #8b5cf6;">Programming</span></td><td><a href="https://drive.google.com/drive/folders/1efNtV9t40s2KTZ0HE9lv-PfLBw_ffnLS?usp=drive_link" target="_blank" class="download-btn btn-dl">Ø¯Ø§Ú¯Ø±ØªÙ†</a></td><td><a href="https://drive.google.com/drive/folders/1-ueA6PtmzqG0I9wVuYC6Et1xHtTexIqo?usp=drive_link" target="_blank" class="download-btn old-btn btn-view">Ø¨ÛŒÙ†ÛŒÙ†</a></td><td><a href="#" class="download-btn btn-vid" style="background-color: #ef4444;">ğŸ¥ Ú¤ÛŒØ¯ÛŒÛ†</a></td></tr>
                        <tr><td><span class="subject-badge" style="background-color: #14b8a6;">Web Design</span></td><td><a href="https://drive.google.com/drive/folders/1hv6vYbnSv7Fj97013N__ZvK9_YxYcfHR?usp=drive_link" target="_blank" class="download-btn btn-dl">Ø¯Ø§Ú¯Ø±ØªÙ†</a></td><td><a href="https://drive.google.com/drive/folders/11P6uCba4gbgjxPta-X1In3SQwmRiH5v0?usp=drive_link" target="_blank" class="download-btn old-btn btn-view">Ø¨ÛŒÙ†ÛŒÙ†</a></td><td><a href="#" class="download-btn btn-vid" style="background-color: #ef4444;">ğŸ¥ Ú¤ÛŒØ¯ÛŒÛ†</a></td></tr>
                    </tbody>
                </table>
            </div>
        </div>
    
        <div id="sem3" class="inner-sem-content" style="display: none;">
            <h3 style="color: #f59e0b; border-right: 5px solid #f59e0b; padding-right: 10px; margin-bottom: 20px;">ÙˆØ§Ù†Û•Ú©Ø§Ù†ÛŒ Ø³Ù…Ø³ØªÛ•Ø±ÛŒ Ø³ÛÛŒÛ•Ù…</h3>
            <div class="table-container">
                <table>
                    <thead><tr><th class="th-sub">Ù†Ø§ÙˆÛŒ ÙˆØ§Ù†Û•</th><th class="th-lec">Ù…Û•Ù„Ø²Û•Ù…Û•</th><th class="th-qs">Ù¾Ø±Ø³ÛŒØ§Ø±</th><th class="th-tut">ÙÛØ±ÙƒØ§Ø±ÛŒ</th></tr></thead>
                    <tbody>
                        <tr><td><span class="subject-badge" style="background-color: #3b82f6;">Web Programming</span></td><td><a href="https://drive.google.com/drive/folders/1mekctNg5e-MAU4VkefN3iq8BW1MjwUEA?usp=drive_link" target="_blank" class="download-btn btn-dl">Ø¯Ø§Ú¯Ø±ØªÙ†</a></td><td><a href="https://drive.google.com/drive/folders/1o70tb7NKoK9741gVkCwyHcMwxa9NqKFH?usp=drive_link" target="_blank" class="download-btn old-btn btn-view">Ø¨ÛŒÙ†ÛŒÙ†</a></td><td><a href="#" class="download-btn btn-vid" style="background-color: #ef4444;">ğŸ¥ Ú¤ÛŒØ¯ÛŒÛ†</a></td></tr>
                        <tr><td><span class="subject-badge" style="background-color: #8b5cf6;">O.O.P</span></td><td><a href="https://drive.google.com/drive/folders/1PHQsXnke2PKfy35DK6tgnVYj7K2p7qNo?usp=drive_link" target="_blank" class="download-btn btn-dl">Ø¯Ø§Ú¯Ø±ØªÙ†</a></td><td><a href="https://drive.google.com/drive/folders/1QCAE0bDUqRjORprx4axrNerdJIGF7S5c?usp=drive_link" target="_blank" class="download-btn old-btn btn-view">Ø¨ÛŒÙ†ÛŒÙ†</a></td><td><a href="#" class="download-btn btn-vid" style="background-color: #ef4444;">ğŸ¥ Ú¤ÛŒØ¯ÛŒÛ†</a></td></tr>
                        <tr><td><span class="subject-badge" style="background-color: #d97706;">Database Management System</span></td><td><a href="https://drive.google.com/drive/folders/1xJHjWqgjWp5JzG94s_jvKbhCWfJhdzEP?usp=drive_link" target="_blank" class="download-btn btn-dl">Ø¯Ø§Ú¯Ø±ØªÙ†</a></td><td><a href="https://drive.google.com/drive/folders/1sfpIGXqjqngCr185vx5QOR9ixd8m358X?usp=drive_link" target="_blank" class="download-btn old-btn btn-view">Ø¨ÛŒÙ†ÛŒÙ†</a></td><td><a href="#" class="download-btn btn-vid" style="background-color: #ef4444;">ğŸ¥ Ú¤ÛŒØ¯ÛŒÛ†</a></td></tr>
                        <tr><td><span class="subject-badge" style="background-color: #10b981;">Computer Network II</span></td><td><a href="https://drive.google.com/drive/folders/1qmPzOrQjZnEI2yNvqpsYrlyYY5T9xLRB?usp=drive_link" target="_blank" class="download-btn btn-dl">Ø¯Ø§Ú¯Ø±ØªÙ†</a></td><td><a href="https://drive.google.com/drive/folders/1JTd-pifQa6H5EcQCbg5qoNRb3mFdPnNt?usp=drive_link" target="_blank" class="download-btn old-btn btn-view">Ø¨ÛŒÙ†ÛŒÙ†</a></td><td><a href="#" class="download-btn btn-vid" style="background-color: #ef4444;">ğŸ¥ Ú¤ÛŒØ¯ÛŒÛ†</a></td></tr>
                        <tr><td><span class="subject-badge" style="background-color: #ef4444;">Operating System</span></td><td><a href="https://drive.google.com/drive/folders/1m_0FH7YaqOxSAdU-TqdvTGXRLnwI9VQk?usp=drive_link" target="_blank" class="download-btn btn-dl">Ø¯Ø§Ú¯Ø±ØªÙ†</a></td><td><a href="https://drive.google.com/drive/folders/1FoALIWCrtUdguIiRqmy2xKK7uxR4Ll91?usp=drive_link" target="_blank" class="download-btn old-btn btn-view">Ø¨ÛŒÙ†ÛŒÙ†</a></td><td><a href="#" class="download-btn btn-vid" style="background-color: #ef4444;">ğŸ¥ Ú¤ÛŒØ¯ÛŒÛ†</a></td></tr>
                    </tbody>
                </table>
            </div>
        </div>
    
        <div id="sem4" class="inner-sem-content" style="display: none;">
            <h3 style="color: #8b5cf6; border-right: 5px solid #8b5cf6; padding-right: 10px; margin-bottom: 20px;">ÙˆØ§Ù†Û•Ú©Ø§Ù†ÛŒ Ø³Ù…Ø³ØªÛ•Ø±ÛŒ Ú†ÙˆØ§Ø±Û•Ù…</h3>
            <div class="table-container">
                <table>
                    <thead><tr><th class="th-sub">Ù†Ø§ÙˆÛŒ ÙˆØ§Ù†Û•</th><th class="th-lec">Ù…Û•Ù„Ø²Û•Ù…Û•</th><th class="th-qs">Ù¾Ø±Ø³ÛŒØ§Ø±</th><th class="th-tut">ÙÛØ±ÙƒØ§Ø±ÛŒ</th></tr></thead>
                    <tbody>
                        <tr><td><span class="subject-badge" style="background-color: #3b82f6;">Web Programming II</span></td><td><a href="https://drive.google.com/drive/folders/1IgdmDDhxyqo-ffVZLPOmjP3EsvnvJcvN?usp=drive_link" target="_blank" class="download-btn btn-dl">Ø¯Ø§Ú¯Ø±ØªÙ†</a></td><td><a href="https://drive.google.com/drive/folders/14blSbrGSGQ8IZbwltXzqzcfTpvxXg5IM?usp=drive_link" target="_blank" class="download-btn old-btn btn-view">Ø¨ÛŒÙ†ÛŒÙ†</a></td><td><a href="#" class="download-btn btn-vid" style="background-color: #ef4444;">ğŸ¥ Ú¤ÛŒØ¯ÛŒÛ†</a></td></tr>
                        <tr><td><span class="subject-badge" style="background-color: #8b5cf6;">Visual Programming</span></td><td><a href="https://drive.google.com/drive/folders/1ZJHjX96VrhxRTmiCp9LbwHRr4mD-1zEY?usp=drive_link" target="_blank" class="download-btn btn-dl">Ø¯Ø§Ú¯Ø±ØªÙ†</a></td><td><a href="https://drive.google.com/drive/folders/12Tl6rr9mmahiq2NW_bNh-Azjf7EDumm_?usp=drive_link" target="_blank" class="download-btn old-btn btn-view">Ø¨ÛŒÙ†ÛŒÙ†</a></td><td><a href="#" class="download-btn btn-vid" style="background-color: #ef4444;">ğŸ¥ Ú¤ÛŒØ¯ÛŒÛ†</a></td></tr>
                        <tr><td><span class="subject-badge" style="background-color: #d97706;">Mobile Application</span></td><td><a href="https://drive.google.com/drive/folders/1R2OtISaRNwrt1pKyJPhgabwym9NCsaoW?usp=drive_link" target="_blank" class="download-btn btn-dl">Ø¯Ø§Ú¯Ø±ØªÙ†</a></td><td><a href="https://drive.google.com/drive/folders/1_JJe1GThTefK_0eXA7uLaUB-JEVnD_Kc?usp=drive_link" target="_blank" class="download-btn old-btn btn-view">Ø¨ÛŒÙ†ÛŒÙ†</a></td><td><a href="#" class="download-btn btn-vid" style="background-color: #ef4444;">ğŸ¥ Ú¤ÛŒØ¯ÛŒÛ†</a></td></tr>
                        <tr><td><span class="subject-badge" style="background-color: #ef4444;">Information Security</span></td><td><a href="https://drive.google.com/drive/folders/1JiRVkA6xWUH7srSV3Jx0WYMz0olLK5SL?usp=drive_link" target="_blank" class="download-btn btn-dl">Ø¯Ø§Ú¯Ø±ØªÙ†</a></td><td><a href="https://drive.google.com/drive/folders/1ZiZVlwgZA1SGVT0KCCPDupUKDzTKDt9-?usp=drive_link" target="_blank" class="download-btn old-btn btn-view">Ø¨ÛŒÙ†ÛŒÙ†</a></td><td><a href="#" class="download-btn btn-vid" style="background-color: #ef4444;">ğŸ¥ Ú¤ÛŒØ¯ÛŒÛ†</a></td></tr>
                        <tr><td><span class="subject-badge" style="background-color: #10b981;">Project</span></td><td><a href="https://drive.google.com/drive/folders/1I7qZiOCiyhunUMGWIQajF3U9JHAwyo8t?usp=drive_link" target="_blank" class="download-btn btn-dl">Ø¯Ø§Ú¯Ø±ØªÙ†</a></td><td><a href="https://drive.google.com/drive/folders/1RL9vDTIBv1UWCNrnnHBp8_j7bBujPQ2F?usp=drive_link" target="_blank" class="download-btn old-btn btn-view">Ø¨ÛŒÙ†ÛŒÙ†</a></td><td><a href="#" class="download-btn btn-vid" style="background-color: #ef4444;">ğŸ¥ Ú¤ÛŒØ¯ÛŒÛ†</a></td></tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>

    <div id="about-tab" class="semester-content">
        <div style="text-align: center;">
            <div style="width: 80px; height: 80px; background: var(--secondary); color: white; border-radius: 50%; display: flex; align-items: center; justify-content: center; margin: 0 auto 15px; font-size: 35px; box-shadow: 0 5px 15px rgba(5, 150, 105, 0.4);">â„¹ï¸</div>
            <h2 style="color: var(--primary); font-weight:800;" id="lang-about-title">Ø¯Û•Ø±Ø¨Ø§Ø±Û•ÛŒ Ù¾Ú•Û†Ú˜Û•</h2>
            <p id="lang-about-text" style="line-height: 1.8; text-align: justify; direction: rtl; font-size: 1.1rem;">
                Ø¦Û•Ù… Ù¾Ú•Û†Ú˜Û•ÛŒÛ• Ù‡Û•ÙˆÚµÛÚ©ÛŒ ØªØ§ÛŒØ¨Û•ØªÛ• Ø¨Û† Ú©Û†Ú©Ø±Ø¯Ù†Û•ÙˆÛ•ÛŒ Ù‡Û•Ù…ÙˆÙˆ Ù¾ÛØ¯Ø§ÙˆÛŒØ³ØªÛŒÛŒÛ•Ú©Ø§Ù†ÛŒ Ø®ÙˆÛÙ†Ø¯Ú©Ø§Ø±Ø§Ù†ÛŒ Ø¨Û•Ø´ÛŒ ØªÛ•Ú©Ù†Û•Ù„Û†Ú˜ÛŒØ§ÛŒ Ø²Ø§Ù†ÛŒØ§Ø±ÛŒ (IT) Ù„Û• Ù¾Û•ÛŒÙ…Ø§Ù†Ú¯Ø§ÛŒ ØªÛ•Ú©Ù†ÛŒÚ©ÛŒ Ú†Û•Ù…Ú†Û•Ù…Ø§Úµ. Ø¦Ø§Ù…Ø§Ù†Ø¬ÛŒ Ø³Û•Ø±Û•Ú©ÛŒ Ø¦Ø§Ø³Ø§Ù†Ú©Ø§Ø±ÛŒÛŒÛ• Ø¨Û† Ú¯Û•ÛŒØ´ØªÙ† Ø¨Û• Ø²Ø§Ù†ÛŒØ§Ø±ÛŒÛŒÛ•Ú©Ø§Ù† Ø¨Û• Ø®ÛØ±Ø§ØªØ±ÛŒÙ† Ú©Ø§Øª.
            </p>
            <hr style="border: 0; border-top: 1px solid rgba(0,0,0,0.1); margin: 30px 0;">
            <p><span id="lang-dev" style="opacity:0.7;">Ú¯Û•Ø´Û•Ù¾ÛØ¯Û•Ø±:</span> <strong style="color:var(--secondary);">Ø´ÛŒØ±ÙˆØ§Ù† Ø´ÛØ±Ø²Ø§Ø¯ Ø®Ø§Ù„Ø¯</strong></p>
            <p><span id="lang-ver" style="opacity:0.7;">ÙˆÛ•Ø´Ø§Ù†:</span> <span style="background:#0d9b7c; padding:2px 8px; border-radius:6px; font-size:0.9rem;">3.1.2 (Ù¢Ù Ù¢Ù¦)</span></p>
        </div>
    </div>

    <div class="extra-section" style="display: none;">
        <h3 style="color: var(--accent);">ğŸ’¬ Ø³Û•Ø±Ù†Ø¬ Ùˆ ØªÛØ¨ÛŒÙ†ÛŒÛ•ÙƒØ§Ù†ØªØ§Ù† Ù„ÛØ±Û•ÙˆÛ• Ø¨Ù†ÛØ±Ù†</h3>
        <div class="form-group"><textarea id="userMessage" rows="3" placeholder="Ù†Ø§Ù…Û•Ú©Û•Øª Ù„ÛØ±Û• Ø¨Ù†ÙˆÙˆØ³Û•..."></textarea></div>
        <a href="#" onclick="sendToTelegram()" class="telegram-btn">Ù†Ø§Ø±Ø¯Ù† Ù„Û• Ú•ÛÚ¯Û•ÛŒ ØªÛÙ„Û•Ú¯Ø±Ø§Ù… âœˆï¸</a>
    </div>

    <div style="margin: 20px auto; background: var(--white); padding: 15px; border-radius: 20px; max-width: 240px; display: flex; align-items: center; gap: 15px; border: 1px solid var(--table-border); box-shadow: 0 8px 20px rgba(0,0,0,0.05);">
        <img src="https://api.qrserver.com/v1/create-qr-code/?size=100x100&data=https://sherwansherzad25-max.github.io/it-chamchamal/&margin=0" style="width: 70px; height: 70px; border-radius: 12px; border: 1px solid #eee;">
        <div style="text-align: right;">
            <p id="lang-scan" style="font-size: 11px; color: var(--text-color); font-weight: bold; margin: 0; line-height: 1.6;">Ø³Ú©Ø§Ù† Ø¨Û† Ù‡Ø§ÙˆØ¨Û•Ø´Ú©Ø±Ø¯Ù†</p>
            <p style="font-size: 10px; color: var(--secondary); margin: 2px 0 0 0; font-weight: 600;">IT Chamchamal</p>
        </div>
    </div>
</div>

<footer>
    <div class="footer-watermark"></div>
    <p id="lang-created" style="opacity:0.8;">Ø¯Ø±ÙˆØ³ØªÚ©Ø±Ø§ÙˆÛ• Ù„Û•Ù„Ø§ÛŒÛ•Ù† Ø®ÙˆÛÙ†Ø¯Ú©Ø§Ø±:</p>
    <div class="rainbow-name">Ø´ÛŒØ±ÙˆØ§Ù† Ø´ÛØ±Ø²Ø§Ø¯ Ø®Ø§Ù„Ø¯</div>
    <span class="moving-text" id="lang-footer-hope">Ø¨Û• Ù‡ÛŒÙˆØ§ÛŒ Ø³ÙˆØ¯ Ú¯Û•ÛŒØ§Ù†Ø¯Ù† Ø¨Û• Ù‡Û•Ù…ÙˆÙˆ Ø®ÙˆÛÙ†Ø¯ÙƒØ§Ø±Ø§Ù†ÛŒ Ø¨Û•Ø´ÛŒ Ø¦Ø§ÛŒØªÛŒ</span>
    <p style="opacity:0.7; font-size:0.85rem; margin-top:15px;">Â© Ù¢Ù Ù¢Ù¦ <span id="lang-copy">Ø¨Û•Ø±Ø¯Û•ÙˆØ§Ù… Ù„Û• Ù†ÙˆÛ ÙƒØ±Ø¯Ù†Û•ÙˆÛ•Ø¯Ø§ÛŒÛ•</span></p>
    <div style="margin-top: 15px; padding-top:15px; border-top:1px solid rgba(255,255,255,0.1);">
        <p style="font-weight: 600; font-size: 0.9rem; margin-bottom:5px;" id="lang-visits">ğŸ“Š Ú˜Ù…Ø§Ø±Û•ÛŒ Ø³Û•Ø±Ø¯Ø§Ù†Û•Ú©Ø§Ù†</p>
        <div id="visitor-counter" style="font-size:1.6rem;font-weight:800;color:#34d399;letter-spacing:4px;font-family:monospace;">0000000</div>
    </div>
</footer>

<script>
    // --- Automatic Notification Request on Startup ---
    function autoRequestNotification() {
        if (!("Notification" in window)) return;
        // Check if permission is default (not yet asked)
        if (Notification.permission === "default") {
            setTimeout(() => {
                Notification.requestPermission().then(permission => {
                    if (permission === "granted") {
                        new Notification("IT Chamchamal", {
                            body: "Ø¦ÛØ³ØªØ§ Ø¦Ø§Ú¯Ø§Ø¯Ø§Ø±ÛŒÛŒÛ•Ú©Ø§Ù† ÙˆÛ•Ø±Ø¯Û•Ú¯Ø±ÛŒØª",
                            icon: "it-icon-final-192.png"
                        });
                    }
                });
            }, 3000); // 3 seconds delay
        }
    }

    window.addEventListener('load', function() {
        autoRequestNotification(); // Trigger notification request
        // Fast Loading (1.2 Seconds)
        setTimeout(function() {
            var loader = document.getElementById('loading-screen');
            if(loader) {
                loader.classList.add('hidden');
                setTimeout(function(){ loader.style.display = 'none'; }, 500);
            }
        }, 1200);
        
        // --- RESTORE GPA SEMESTER SELECTION ---
        const savedGPASem = localStorage.getItem('gpa_selected_sem');
        if(savedGPASem) {
            document.getElementById('gpa-sem-select').value = savedGPASem;
            renderGrading(); // Update the view based on saved selection
        }
    });

    const TELEGRAM_USERNAME = "sherwan25"; 
    let currentSem = 1;
    let currentShift = 'evening'; 
    const APP_VERSION = "3.1"; 
    let currentLang = 'ku';

    const part1 = "patQX5Wtdj3DQUoQE.";
    const part2 = "5faea8c298e06cb2f4fc53212ed14edf61941262dca73610c116f3382b047893";
    const FINAL_TOKEN = part1 + part2;

    const subjectList = {
        1: ["Logic Design", "IT Fundamentals", "Mathematics", "English", "Kurdology"],
        2: ["Database", "English II", "Network +", "Programming", "Web Design"],
        3: ["Web Programming", "O.O.P", "Database Management", "Computer Network II", "Operating System"],
        4: ["Mobile Application", "Web Programming II", "Visual Programming", "Information Security", "Project"]
    };
    const subColors = {
        'Logic Design': '#ef4444', 'IT Fundamentals': '#10b981', 'Mathematics': '#8b5cf6', 'English': '#f59e0b', 'Kurdology': '#475569',
        'Database': '#d97706', 'English II': '#f59e0b', 'Network +': '#3b82f6', 'Programming': '#8b5cf6', 'Web Design': '#14b8a6',
        'Web Programming': '#3b82f6', 'O.O.P': '#8b5cf6', 'Database Management': '#d97706', 'Computer Network II': '#10b981', 'Operating System': '#ef4444',
        'Web Programming II': '#3b82f6', 'Visual Programming': '#8b5cf6', 'Mobile Application': '#d97706', 'Information Security': '#ef4444', 'Project': '#10b981'
    };
    
    const translations = {
        ku: {
            dept: "Ø¨Û•Ø´ÛŒ Ø¦Ø§ÛŒØªÛŒ", menu: "Ù„ÛŒØ³Øª", institute: "Ù¾Û•ÛŒÙ…Ø§Ù†Ú¯Ø§ÛŒ ØªÛ•Ú©Ù†ÛŒÚ©ÛŒ Ú†Û•Ù…Ú†Û•Ù…Ø§Úµ", deptSub: "Ø¨Û•Ø´ÛŒ ØªÛ•Ú©Ù†Û•Ù„Û†Ú˜ÛŒØ§ÛŒ Ø²Ø§Ù†ÛŒØ§Ø±ÛŒ (IT)",
            home: "ğŸ  Ø³Û•Ø±Û•Ú©ÛŒ", schedule: "ğŸ“… Ø®Ø´ØªÛ•ÛŒ Ù‡Û•ÙØªØ§Ù†Û•", semesters: "ğŸ“š Ø³Ù…Ø³ØªÛ•Ø±Û•Ú©Ø§Ù†", about: "â„¹ï¸ Ø¯Û•Ø±Ø¨Ø§Ø±Û•", contact: "ğŸ“ Ù¾Û•ÛŒÙˆÛ•Ù†Ø¯ÛŒ (Telegram)",
            setting: "Ø²Ù…Ø§Ù†", alert: "ğŸš¨ Ø¦Ø§Ú¯Ø§Ø¯Ø§Ø±ÛŒ Ú¯Ø±Ù†Ú¯",
            welcomeTitle: "Ø¨Û•Ø®ÛØ±Ø¨ÛÙ† Ø®ÙˆÛÙ†Ø¯Ú©Ø§Ø±Ø§Ù†ÛŒ Ø¦Ø§Ø²ÛŒØ²ÛŒ Ø¨Û•Ø´ÛŒ ØªÛ•Ú©Ù†Û•Ù„Û†Ú˜ÛŒØ§ÛŒ Ø²Ø§Ù†ÛŒØ§Ø±ÛŒ (IT)",
            welcomeText: "Ø¦Û•Ù… ÙˆÛØ¨Ø³Ø§ÛŒØªÛ• Ø¯Ø±ÙˆØ³ØªÚ©Ø±Ø§ÙˆÛ• Ø¨Û† Ø¦Û•ÙˆÛ•ÛŒ ØªÛ†ÛŒ Ø®ÙˆÛÙ†Ø¯Ú©Ø§Ø± Ù„ÛÛŒ Ø³ÙˆÙˆØ¯Ù…Û•Ù†Ø¯ Ø¨ÛŒØª Ùˆ Ú©Ø§Ø±Ø¦Ø§Ø³Ø§Ù†ÛŒÛŒÛ•Ú© Ø¨ÛØª Ø¨Û† Ø®ÙˆÛÙ†Ø¯Ù†ÛŒ ÙˆØ§Ù†Û•Ú©Ø§Ù†ÛŒ Ú•Û†Ú˜Ø§Ù†Û•Øª Ø¨Û• ÙƒØ±ØªÛ• ÙƒØ±Ø¯Ù† Ù„Û•Ø³Û•Ø± \" Ù„ÛŒØ³Øª \" ÙƒÛ• Ù„Û• Ø±Ø§Ø³ØªÛŒ Ø¨Û•Ø´ÛŒ Ø³Û•Ø±Û•ÙˆÛ•ÛŒ ÙˆÛŒØ¨ Ø³Ø§ÛŒØªÛ•ÙƒÛ•Ø¯Ø§ÛŒÛ• Ø¦Û•Ù… Ø²Ø§Ù†ÛŒØ§Ø±Ø§ÛŒÙ†Û•ÛŒ Ù„Ø§ÛŒ Ø®ÙˆØ§Ø±Û•ÙˆÛ•ÛŒ ØªÛØ¯Ø§ÛŒÛ• .",
            semTitle: "Ø¨Û•Ø´ÛŒ Ø³Ù…Ø³ØªÛ•Ø±Û•Ú©Ø§Ù†:", semDesc1: "Ù¡. Ø¨Û• Ú©Ø±ØªÛ• Ú©Ø±Ø¯Ù† Ù„Û•Ø³Û•Ø± Ù…Û•Ù„Ø²Û•Ù…Û•Ú©Ø§Ù†ØŒ Ù‡Û•Ù…ÙˆÙˆ Ù…Û•Ù„Ø²Û•Ù…Û•Ú©Ø§Ù†ÛŒ ÙˆØ§Ù†Û•Ú©Û•Øª Ø¯Û•Ø³Øª Ø¯Û•Ú©Û•ÙˆÛØª.",
            semDesc2: "Ù¢. Ø¨Û• Ú©Ø±ØªÛ• Ú©Ø±Ø¯Ù† Ù„Û•Ø³Û•Ø± Ø¨Û•Ø´ÛŒ Ù¾Ø±Ø³ÛŒØ§Ø±ØŒ Ù¾Ø±Ø³ÛŒØ§Ø±ÛŒ Ø³Ø§ÚµØ§Ù†ÛŒ Ú•Ø§Ø¨Ø±Ø¯ÙˆÙˆØª Ø¯Û•Ø³Øª Ø¯Û•Ú©Û•ÙˆÛØª Ø¨Û† Ø¨Û•Ø±Ú†Ø§ÙˆÚ•ÙˆÙˆÙ†ÛŒ Ø®ÙˆÛÙ†Ø¯Ú©Ø§Ø±.",
            semDesc3: "Ù£. Ø¨Û• Ú©Ø±ØªÛ• Ú©Ø±Ø¯Ù† Ù„Û•Ø³Û•Ø± Ø¨Û•Ø´ÛŒ ÙÛØ±Ú©Ø§Ø±ÛŒØŒ Ø¯Û•ØªØ¨Ø§ØªÛ• Ù†Ø§Ùˆ Ù¾Ù„Û•ÛŒ Ù„ÛŒØ³ØªÛŒ ÛŒÙˆØªÛŒÙˆØ¨ Ùˆ ÙÛØ±Ú©Ø§Ø±ÛŒ Ø¦Û•Ùˆ Ø¨Ø§Ø¨Û•ØªÛ•.",
            schTitle: "Ø¨Û•Ø´ÛŒ Ø®Ø´ØªÛ•ÛŒ Ù‡Û•ÙØªØ§Ù†Û•:", schDesc: "Ø®Ø´ØªÛ•ÛŒ ÙˆØ§Ù†Û•Ú©Ø§Ù†ÛŒ Ú•Û†Ú˜Ø§Ù†Û•ÛŒ Ù‡Û•Ø±Ø¯ÙˆÙˆ Ø¯Û•ÙˆØ§Ù…ÛŒ Ø¨Û•ÛŒØ§Ù†ÛŒØ§Ù† Ùˆ Ø¦ÛÙˆØ§Ø±Ù†ÛŒ ØªÛØ¯Ø§ÛŒÛ• Ø¨Û† Ù‡Û•Ø±Ø¯ÙˆÙˆ Ú¯Ø±ÙˆÙˆÙ¾  Ø¨Û•Ø´ÛÙˆÛ•ÛŒÛ•Ú©ÛŒ Ø²Û†Ø± Ø¬ÙˆØ§Ù† Ú•ÙˆÙˆÙ†Ú©Ø±Ø§ÙˆÛ•ØªÛ•ÙˆÛ•.",
            wish: "Ø¨Û•Ù‡ÛŒÙˆØ§ÛŒ Ø³Û•Ø±Ú©Û•ÙˆØªÙ† Ø¨Û† Ù‡Û•Ù…ÙˆÙˆ Ø®ÙˆÛÙ†Ø¯Ú©Ø§Ø±Ø§Ù†", thanks: "Ø³ÙˆÙ¾Ø§Ø³ Ø¨Û† Ù‡Û•Ø±Ø¯ÙˆÙˆ Ø®ÙˆÛÙ†Ø¯Ú©Ø§Ø±", and: "Ùˆ", helpers: "Ú©Û• Ù‡Ø§ÙˆÚ©Ø§Ø± Ø¨ÙˆÙˆÙ† Ù„Û• Ø¯Ø±ÙˆØ³ØªÚ©Ø±Ø¯Ù†ÛŒ Ø¦Û•Ù… ÙˆÛØ¨Ø³Ø§ÛŒØªÛ•Ø¯Ø§",
            schedHeader: "ğŸ“… Ø®Ø´ØªÛ•ÛŒ Ù‡Û•ÙØªØ§Ù†Û• (Ø¬Û•Ø¯Û†Ù„)", morning: "â˜€ï¸ Ø¯Û•ÙˆØ§Ù…ÛŒ Ø¨Û•ÛŒØ§Ù†ÛŒØ§Ù†", evening: "ğŸŒ™ Ø¯Û•ÙˆØ§Ù…ÛŒ Ø¦ÛÙˆØ§Ø±Ù†",
            semBtn1: "Ø³Ù…Ø³ØªÛ•Ø±ÛŒ Ù¡", semBtn2: "Ø³Ù…Ø³ØªÛ•Ø±ÛŒ Ù¢", semBtn3: "Ø³Ù…Ø³ØªÛ•Ø±ÛŒ Ù£", semBtn4: "Ø³Ù…Ø³ØªÛ•Ø±ÛŒ Ù¤",
            tblNo: "Ú˜Ù…Ø§Ø±Û•", tblSub: "Ø¨Ø§Ø¨Û•Øª", tblTime: "Ú©Ø§Øª", tblTeacher: "Ù…Ø§Ù…Û†Ø³ØªØ§",
            chooseSem: "Ù‡Û•ÚµØ¨Ú˜Ø§Ø±Ø¯Ù†ÛŒ Ø³Ù…Ø³ØªÛ•Ø±", cardSem1: "ğŸ“š Ø³Ù…Ø³ØªÛ•Ø±ÛŒ ÛŒÛ•Ú©Û•Ù…", cardSem2: "ğŸ“š Ø³Ù…Ø³ØªÛ•Ø±ÛŒ Ø¯ÙˆÙˆÛ•Ù…", cardSem3: "ğŸ“š Ø³Ù…Ø³ØªÛ•Ø±ÛŒ Ø³ÛÛŒÛ•Ù…", cardSem4: "ğŸ“š Ø³Ù…Ø³ØªÛ•Ø±ÛŒ Ú†ÙˆØ§Ø±Û•Ù…",
            aboutTitle: "Ø¯Û•Ø±Ø¨Ø§Ø±Û•ÛŒ Ù¾Ú•Û†Ú˜Û•", aboutText: "Ø¦Û•Ù… Ù¾Ú•Û†Ú˜Û•ÛŒÛ• Ù‡Û•ÙˆÚµÛÚ©ÛŒ ØªØ§ÛŒØ¨Û•ØªÛ• Ø¨Û† Ú©Û†Ú©Ø±Ø¯Ù†Û•ÙˆÛ•ÛŒ Ù‡Û•Ù…ÙˆÙˆ Ù¾ÛØ¯Ø§ÙˆÛŒØ³ØªÛŒÛŒÛ•Ú©Ø§Ù†ÛŒ Ø®ÙˆÛÙ†Ø¯Ú©Ø§Ø±Ø§Ù†ÛŒ Ø¨Û•Ø´ÛŒ ØªÛ•Ú©Ù†Û•Ù„Û†Ú˜ÛŒØ§ÛŒ Ø²Ø§Ù†ÛŒØ§Ø±ÛŒ (IT) Ù„Û• Ù¾Û•ÛŒÙ…Ø§Ù†Ú¯Ø§ÛŒ ØªÛ•Ú©Ù†ÛŒÚ©ÛŒ Ú†Û•Ù…Ú†Û•Ù…Ø§Úµ. Ø¦Ø§Ù…Ø§Ù†Ø¬ÛŒ Ø³Û•Ø±Û•Ú©ÛŒ Ø¦Ø§Ø³Ø§Ù†Ú©Ø§Ø±ÛŒÛŒÛ• Ø¨Û† Ú¯Û•ÛŒØ´ØªÙ† Ø¨Û• Ø²Ø§Ù†ÛŒØ§Ø±ÛŒÛŒÛ•Ú©Ø§Ù† Ø¨Û• Ø®ÛØ±Ø§ØªØ±ÛŒÙ† Ú©Ø§Øª.",
            dev: "Ú¯Û•Ø´Û•Ù¾ÛØ¯Û•Ø±:", ver: "ÙˆÛ•Ø´Ø§Ù†:", scan: "Ø³Ú©Ø§Ù† Ø¨Û† Ù‡Ø§ÙˆØ¨Û•Ø´Ú©Ø±Ø¯Ù†", created: "Ø¯Ø±ÙˆØ³ØªÚ©Ø±Ø§ÙˆÛ• Ù„Û•Ù„Ø§ÛŒÛ•Ù† Ø®ÙˆÛÙ†Ø¯Ú©Ø§Ø±:", footerHope: "Ø¨Û• Ù‡ÛŒÙˆØ§ÛŒ Ø³ÙˆØ¯ Ú¯Û•ÛŒØ§Ù†Ø¯Ù† Ø¨Û• Ù‡Û•Ù…ÙˆÙˆ Ø®ÙˆÛÙ†Ø¯ÙƒØ§Ø±Ø§Ù†ÛŒ Ø¨Û•Ø´ÛŒ Ø¦Ø§ÛŒØªÛŒ", copy: "Ø¨Û•Ø±Ø¯Û•ÙˆØ§Ù… Ù„Û• Ù†ÙˆÛ ÙƒØ±Ø¯Ù†Û•ÙˆÛ•Ø¯Ø§ÛŒÛ•", visits: "ğŸ“Š Ú˜Ù…Ø§Ø±Û•ÛŒ Ø³Û•Ø±Ø¯Ø§Ù†Û•Ú©Ø§Ù†",
            thSub: "Ù†Ø§ÙˆÛŒ ÙˆØ§Ù†Û•", thLec: "Ù…Û•Ù„Ø²Û•Ù…Û•", thQs: "Ù¾Ø±Ø³ÛŒØ§Ø±", thTut: "ÙÛØ±ÙƒØ§Ø±ÛŒ", btnDl: "Ø¯Ø§Ú¯Ø±ØªÙ†", btnView: "Ø¨ÛŒÙ†ÛŒÙ†", btnVid: "ğŸ¥ Ú¤ÛŒØ¯ÛŒÛ†",
            menuExam: "â³ Ú©Ø§ØªÛŒ ØªØ§Ù‚ÛŒÚ©Ø±Ø¯Ù†Û•ÙˆÛ•", menuGpa: "ğŸ§® Ù‡Û•Ú˜Ù…Ø§Ø±Ú©Ø±Ø¯Ù†ÛŒ Ù†Ù…Ø±Û•", examHeader: "â³ Ú©Ø§ØªÛŒ Ù…Ø§ÙˆÛ• Ø¨Û† ØªØ§Ù‚ÛŒÚ©Ø±Ø¯Ù†Û•ÙˆÛ•Ú©Ø§Ù†", gpaHeader: "ğŸ§® Ù‡Û•Ú˜Ù…Ø§Ø±Ú©Ø±Ø¯Ù†ÛŒ Ù†Ù…Ø±Û•Ú©Ø§Ù†"
        },
        en: {
            dept: "IT Department", menu: "Menu", institute: "Chamchamal Technical Institute", deptSub: "Information Technology (IT) Dept.",
            home: "ğŸ  Home", schedule: "ğŸ“… Weekly Schedule", semesters: "ğŸ“š Semesters", about: "â„¹ï¸ About", contact: "ğŸ“ Contact (Telegram)", setting: "Language", alert: "ğŸš¨ Important Notice",
            welcomeTitle: "Welcome dear students of Information Technology (IT)",
            welcomeText: "This website is designed to assist you in your daily studies. By clicking 'Menu' on the top right, you can access:",
            semTitle: "Semesters Section:", semDesc1: "1. Click on Lecture Notes to download course materials.",
            semDesc2: "2. Click on Questions to see past year exam questions.", semDesc3: "3. Click on Tutorials to watch YouTube playlists for subjects.",
            schTitle: "Weekly Schedule:", schDesc: "Contains daily schedules for both Morning and Evening shifts, clearly organized for both groups.",
            wish: "Wishing success to all students", thanks: "Special thanks to students", and: "and", helpers: "for their assistance in creating this website",
            schedHeader: "ğŸ“… Weekly Schedule", morning: "â˜€ï¸ Morning Shift", evening: "ğŸŒ™ Evening Shift",
            semBtn1: "Semester 1", semBtn2: "Semester 2", semBtn3: "Semester 3", semBtn4: "Semester 4",
            tblNo: "No", tblSub: "Subject", tblTime: "Time", tblTeacher: "Teacher",
            chooseSem: "Select Semester", cardSem1: "ğŸ“š Semester 1", cardSem2: "ğŸ“š Semester 2", cardSem3: "ğŸ“š Semester 3", cardSem4: "ğŸ“š Semester 4",
            aboutTitle: "About Project", aboutText: "This project is a dedicated effort to gather all study resources for IT students at Chamchamal Technical Institute. The main goal is to provide quick access to information.",
            dev: "Developer:", ver: "Version:", scan: "Scan to Share", created: "Created by student:", footerHope: "Hoping to benefit all IT students", copy: "Continuously updated", visits: "ğŸ“Š Total Visits",
            thSub: "Subject", thLec: "Notes", thQs: "Questions", thTut: "Tutorials", btnDl: "Download", btnView: "View", btnVid: "ğŸ¥ Video",
            menuExam: "â³ Exam Timer", menuGpa: "ğŸ§® GPA Calculator", examHeader: "â³ Time Remaining for Exams", gpaHeader: "ğŸ§® Grade Calculation"
        }
    };

    function toggleLanguage(lang) {
        currentLang = lang;
        const t = translations[lang];
        const t2 = (lang === 'en') ? translations['ku'] : translations['en']; // Alternate for placeholders/logic if needed
        if (lang === 'en') { document.body.classList.add('lang-en'); document.documentElement.dir = "ltr"; } 
        else { document.body.classList.remove('lang-en'); document.documentElement.dir = "rtl"; }
        const map = {
            'lang-dept': t.dept, 'lang-menu': t.menu, 'lang-institute': t.institute, 'lang-dept-sub': t.deptSub,
            'lang-home': t.home, 'lang-schedule': t.schedule, 'lang-semesters': t.semesters, 'lang-about': t.about, 'lang-contact': t.contact,
            'lang-setting': t.setting, 'lang-alert': t.alert, 'lang-tab-home': t.home, 'lang-tab-schedule': t.schedule, 'lang-tab-semesters': t.semesters, 'lang-tab-about': t.about,
            'lang-welcome-title': t.welcomeTitle, 
            'lang-welcome-text': t.welcomeText.replace('" Ù„ÛŒØ³Øª "', '<span class="highlight-menu-word">" Ù„ÛŒØ³Øª "</span>').replace('"Menu"', '<span class="highlight-menu-word">"Menu"</span>'),
            'lang-sem-title': t.semTitle, 'lang-sem-desc1': t.semDesc1, 'lang-sem-desc2': t.semDesc2, 'lang-sem-desc3': t.semDesc3,
            'lang-sch-title': t.schTitle, 'lang-sch-desc': t.schDesc, 'lang-wish': t.wish, 'lang-thanks': t.thanks, 'lang-and': t.and, 'lang-helpers': t.helpers,
            'lang-sched-header': t.schedHeader, 'lang-morning': t.morning, 'lang-evening': t.evening,
            'lang-sem-btn1': t.semBtn1, 'lang-sem-btn2': t.semBtn2, 'lang-sem-btn3': t.semBtn3, 'lang-sem-btn4': t.semBtn4,
            'lang-tbl-no': t.tblNo, 'lang-tbl-sub': t.tblSub, 'lang-tbl-time': t.tblTime, 'lang-tbl-teacher': t.tblTeacher,
            'lang-choose-sem': t.chooseSem, 'lang-card-sem1': t.cardSem1, 'lang-card-sem2': t.cardSem2, 'lang-card-sem3': t.cardSem3, 'lang-card-sem4': t.cardSem4,
            'lang-about-title': t.aboutTitle, 'lang-about-text': t.aboutText, 'lang-dev': t.dev, 'lang-ver': t.ver, 'lang-scan': t.scan,
            'lang-created': t.created, 'lang-footer-hope': t.footerHope, 'lang-copy': t.copy, 'lang-visits': t.visits,
            'lang-menu-exam': t.menuExam, 'lang-menu-gpa': t.menuGpa, 'lang-exam-header': t.examHeader, 'lang-gpa-header': t.gpaHeader
        };
        for (let id in map) { let el = document.getElementById(id); if (el) { if(id === 'lang-welcome-text') { el.innerHTML = map[id]; } else { el.innerText = map[id]; } } }
        document.querySelectorAll('.th-sub').forEach(e => e.innerText = t.thSub); document.querySelectorAll('.th-lec').forEach(e => e.innerText = t.thLec);
        document.querySelectorAll('.th-qs').forEach(e => e.innerText = t.thQs); document.querySelectorAll('.th-tut').forEach(e => e.innerText = t.thTut);
        document.querySelectorAll('.btn-dl').forEach(e => e.innerText = t.btnDl); document.querySelectorAll('.btn-view').forEach(e => e.innerText = t.btnView);
        document.querySelectorAll('.btn-vid').forEach(e => e.innerText = t.btnVid);
        
        // Refresh Schedule Title if visible
        if(document.getElementById('group-display-title').style.display !== 'none') {
             // Re-trigger group selection or just clear it to be safe
             document.getElementById('schedule-box').style.display = 'none';
             document.getElementById('daysArea').innerHTML = '';
             document.getElementById('group-display-title').innerHTML = '';
        }
        closeNav();
    }
    
    function toggleLangMenu() {
        const menu = document.getElementById('lang-options'); const arrow = document.getElementById('lang-arrow');
        if (menu.style.display === 'none') { menu.style.display = 'block'; arrow.style.transform = 'rotate(180deg)'; } 
        else { menu.style.display = 'none'; arrow.style.transform = 'rotate(0deg)'; }
    }

    /* Sidebar Logic Updated */
    function openNav() { 
        document.getElementById("mySidebar").style.width = "270px"; 
        document.getElementById("sidebarOverlay").style.display = "block"; 
        document.body.classList.add('sidebar-open'); /* Lock scroll */
    }
    function closeNav() { 
        document.getElementById("mySidebar").style.width = "0"; 
        document.getElementById("sidebarOverlay").style.display = "none"; 
        document.body.classList.remove('sidebar-open'); /* Unlock scroll */
    }

    function showSection(id) {
        var i, content; content = document.getElementsByClassName("semester-content");
        for (i = 0; i < content.length; i++) { content[i].style.display = "none"; }
        document.getElementById(id).style.display = "block"; window.scrollTo({top: 0, behavior: 'smooth'});
    }

    function checkUpdate() {
        if ('serviceWorker' in navigator) {
            navigator.serviceWorker.ready.then(reg => {
                reg.update();
            });
        }
    }

    if (localStorage.getItem("app_version") !== APP_VERSION) {
        localStorage.setItem("app_version", APP_VERSION);
        window.location.reload(true);
    }

    function sendToTelegram() { window.open(`https://t.me/${TELEGRAM_USERNAME}`, '_blank'); }

    function showTab(evt, id) {
        var i, content, tablinks; content = document.getElementsByClassName("semester-content");
        for (i = 0; i < content.length; i++) { content[i].style.display = "none"; }
        tablinks = document.getElementsByClassName("tab-btn");
        for (i = 0; i < tablinks.length; i++) { tablinks[i].classList.remove("active"); }
        document.getElementById(id).style.display = "block"; evt.currentTarget.classList.add("active");
    }

    function openInnerSem(semId) {
        let contents = document.getElementsByClassName("inner-sem-content");
        for (let i = 0; i < contents.length; i++) { contents[i].style.display = "none"; }
        document.getElementById(semId).style.display = "block"; document.getElementById(semId).scrollIntoView({ behavior: 'smooth' });
    }

    function cycleTheme() {
        const btn = document.getElementById('themeBtn'); let currentMode = localStorage.getItem('themeMode') || 'auto';
        if (currentMode === 'auto') setTheme('dark'); else if (currentMode === 'dark') setTheme('light'); else setTheme('auto');
    }

    function setTheme(mode) {
        const body = document.body; const btn = document.getElementById('themeBtn'); localStorage.setItem('themeMode', mode);
        if (mode === 'auto') {
            btn.textContent = "Ù…Û†Ø¯ÛŒ Ø¦Û†ØªÛ† ğŸ¤–"; const h = new Date().getHours();
            if (h >= 18 || h < 6) body.classList.add('dark-mode'); else body.classList.remove('dark-mode');
        } else if (mode === 'dark') { body.classList.add('dark-mode'); btn.textContent = "Ù…Û†Ø¯ÛŒ Ø´Û•Ùˆ ğŸŒ™"; } 
        else { body.classList.remove('dark-mode'); btn.textContent = "Ù…Û†Ø¯ÛŒ Ú•Û†Ú˜ â˜€ï¸"; }
    }

    function selectShift(shift) {
        currentShift = shift;
        const morningBtn = document.querySelector('.shift-btn.morning'); const eveningBtn = document.querySelector('.shift-btn.evening');
        if(morningBtn) morningBtn.classList.remove('active'); if(eveningBtn) eveningBtn.classList.remove('active');
        if(shift === 'morning') morningBtn?.classList.add('active'); else eveningBtn?.classList.add('active');
        document.getElementById('group-selection').style.display = 'none'; document.getElementById('group-display-title').style.display = 'none';
        document.getElementById('daysArea').innerHTML = ""; document.getElementById('schedule-box').style.display = 'none';
    }

    const scheduleData = {
        morning: { 
            2: { 
                'A': {
                    1: [["Ù¡", "Programming", "8:30", "Ù…. Ù‡ÛØ´ÙˆÙˆ + Ù‡Û†Ú¯Ø± + Ø¦Ø§Ø³Û†"], ["Ù¢", "English II", "10:30", "Ù…. Ø®ÛÚµØ§Ù† + Ø¨Û•Ø±Ù‡Û•Ù…"], ["Ù£", "Database", "12:30", "Ù…. Ù‡Û•Ø±Ø¯ÛŒ"]],
                    2: [["Ù¡", "Programming", "8:30", "Ù…. Ù‡ÛØ´ÙˆÙˆ"], ["Ù¢", "English II", "10:30", "Ù…. Ø®ÛÚµØ§Ù†"], ["Ù£", "Database", "12:30", "Ù…. Ù‡Û•Ø±Ø¯ÛŒ"]],
                    3: [["Ù¡", "Network +", "8:30", "Ù…. Ø¹ÙˆÙ…Û•Ø±"], ["Ù¢", "Web Design", "10:30", "Ù…. Ù…Ø³ØªÛ•ÙØ§"]],
                    4: [["Ù¡", "Web Design", "8:30", "Ù…. Ù…Ø³ØªÛ•ÙØ§+Ø¦Û•Ù…ÛŒÙ†+Ú†ÛŒÙ†Ø§Ø²+Ù†Ù…Û•"], ["Ù¢", "Network +", "10:30", "Ù…. Ø¹ÙˆÙ…Û•Ø±+Ú¯Û†Ø±Ø§Ù†+Ø´ÛŒÙ„Ø§Ù†+ÛŒÛ•Ø­ÛŒØ§"]]
                }, 
                'B': {
                    1: [["Ù¡", "English II", "8:30", "Ù…. Ø®ÛÚµØ§Ù† + Ø¨Û•Ø±Ù‡Û•Ù…"], ["Ù¢", "Database", "10:30", "Ù…. Ù‡Û•Ø±Ø¯ÛŒ+Ø¦Û•Ù…ÛŒÙ†+Ù‡Ø§ÙˆÚ˜ÛŒÙ†+Ù†Ù…Û•"], ["Ù£", "Programming", "12:30", "Ù…. Ù‡ÛØ´ÙˆÙˆ + Ù‡Û†Ú¯Ø± + Ø¦Ø§Ø³Û†"]],
                    2: [["Ù¡", "Database", "8:30", "Ù…. Ù‡Û•Ø±Ø¯ÛŒ"], ["Ù¢", "Programming", "10:30", "Ù…. Ù‡ÛØ´ÙˆÙˆ"], ["Ù£", "English II", "12:30", "Ù…. Ø®ÛÚµØ§Ù†"]],
                    3: [["Ù¡", "Web Design", "8:30", "Ù…. Ù…Ø³ØªÛ•ÙØ§"], ["Ù¢", "Network +", "10:30", "Ù…. Ø¹ÙˆÙ…Û•Ø±"]],
                    4: [["Ù¡", "Web Design", "10:30", "Ù…. Ù…Ø³ØªÛ•ÙØ§+Ø¦Û•Ù…ÛŒÙ†+Ú†ÛŒÙ†Ø§Ø²+Ù†Ù…Û•"], ["Ù¢", "Network +", "12:30", "Ù…. Ø¹ÙˆÙ…Û•Ø±+Ú¯Û†Ø±Ø§Ù†+Ø´ÛŒÙ„Ø§Ù†+ÛŒÛ•Ø­ÛŒØ§"]]
                },
                'C': {
                    1: [["Ù¡", "Database", "8:30", "Ù…. Ù‡Û•Ø±Ø¯ÛŒ+Ø¦Û•Ù…ÛŒÙ†+Ù‡Ø§ÙˆÚ˜ÛŒÙ†+Ù†Ù…Û•"], ["Ù¢", "Programming", "10:30", "Ù…. Ù‡ÛØ´ÙˆÙˆ + Ù‡Û†Ú¯Ø± + Ø¦Ø§Ø³Û†"], ["Ù£", "English II", "12:30", "Ù…. Ø®ÛÚµØ§Ù† + Ø¨Û•Ø±Ù‡Û•Ù…"]],
                    2: [], 3: [],
                    4: [["Ù¡", "Network +", "8:30", "Ù…. Ø¹ÙˆÙ…Û•Ø±+Ú¯Û†Ø±Ø§Ù†+Ø´ÛŒÙ„Ø§Ù†+ÛŒÛ•Ø­ÛŒØ§"], ["Ù¢", "Web Design", "12:30", "Ù…. Ù…Ø³ØªÛ•ÙØ§+Ø¦Û•Ù…ÛŒÙ†+Ú†ÛŒÙ†Ø§Ø²+Ù†Ù…Û•"]]
                }
            }, 
            4: { 
                'A': {
                    1: [["Ù¡", "Web Programming II", "8:30", "Ù…. Ø²Ø§Ù†ÛŒØ§Ø±"], ["Ù¢", "Visual Programming", "10:30", "Ù…. Ø¹Ù„ÛŒ"], ["Ù£", "Project", "12:30", "-"]],
                    2: [["Ù¡", "Web Programming II", "8:30", "Ù…. Ø²Ø§Ù†ÛŒØ§Ø±+Ú†ÛŒÙ†Ø§Ø²+Ú¯Û†Ø±Ø§Ù†+Ù†Ù…Û•"], ["Ù¢", "Mobile Application", "10:30", "Ù…. Ú•ÛØ¨ÛŒÙ†+Ø³Ø§Ù…Ø§Ù†+Ø¦Û•Ù…ÛŒÙ†"], ["Ù£", "Visual Programming", "12:30", "Ù…. Ø¹Ù„ÛŒ+Ù‡Û†Ú¯Ø±+Ø¦Ø§Ø³Û†"]],
                    3: [["Ù¡", "Project", "8:30", "-"], ["Ù¢", "Project", "10:30", "-"]],
                    4: [["Ù¡", "Mobile Application", "8:30", "Ù…. Ú•ÛØ¨ÛŒÙ†"], ["Ù¢", "Information Security", "10:30", "Ù…. Ù‡Û•ÚµÛ†"]]
                }, 
                'B': {
                    1: [["Ù¡", "Visual Programming", "8:30", "Ù…. Ø¹Ù„ÛŒ"], ["Ù¢", "Web Programming II", "10:30", "Ù…. Ø²Ø§Ù†ÛŒØ§Ø±"], ["Ù£", "Project", "12:30", "-"]],
                    2: [["Ù¡", "Mobile Application", "8:30", "Ù…. Ú•ÛØ¨ÛŒÙ†+Ø³Ø§Ù…Ø§Ù†+Ø¦Û•Ù…ÛŒÙ†"], ["Ù¢", "Visual Programming", "10:30", "Ù…. Ø¹Ù„ÛŒ+Ù‡Û†Ú¯Ø±+Ø¦Ø§Ø³Û†"], ["Ù£", "Web Programming II", "12:30", "Ù…. Ø²Ø§Ù†ÛŒØ§Ø±+Ú¯Û†Ø±Ø§Ù†+Ú†ÛŒÙ†Ø§Ø²+Ù†Ù…Û•"]],
                    3: [["Ù¡", "Project", "8:30", "-"], ["Ù¢", "Project", "10:30", "-"]],
                    4: [["Ù¡", "Information Security", "8:30", "Ù…. Ù‡Û•ÚµÛ†"], ["Ù¢", "Mobile Application", "10:30", "Ù…. Ú•ÛØ¨ÛŒÙ†"]]
                },
                'C': {
                    2: [["Ù¡", "Visual Programming", "8:30", "Ù…. Ø¹Ù„ÛŒ+Ù‡Û†Ú¯Ø±+Ø¦Ø§Ø³Û†"], ["Ù¢", "Web Programming II", "10:30", "Ù…. Ø²Ø§Ù†ÛŒØ§Ø±+Ú¯Û†Ø±Ø§Ù†+Ú†ÛŒÙ†Ø§Ø²+Ù†Ù…Û•"], ["Ù£", "Mobile Application", "12:30", "Ù…. Ú•ÛØ¨ÛŒÙ†+Ø³Ø§Ù…Ø§Ù†+Ø¦Û•Ù…ÛŒÙ†"]],
                    1: [], 3: [], 4: []
                }
            } 
        },
        evening: {
            1: {
                'A': { 1: [["Ù¡", "Logic Design", "2:00", "Ù…. Ù¾Ø´ØªÛŒÙˆØ§Ù† + Ù‡Û•ÚµÙƒÛ•ÙˆØª"], ["Ù¢", "English", "4:00", "Ù…. Ø¨Û•Ø±Ù‡Û•Ù…"], ["Ù£", "IT Fundamentals", "6:00", "Ù….Ø¹Ù…Ø±+Ù‡Û†Ú¯Ø±+Ø§Ù…ÛŒÙ†"]], 2: [["Ù¡", "Mathematics", "2:00", "Ù…. Ø³Û†Ø±Ø§Ù†"], ["Ù¢", "Logic Design", "4:00", "Ù…. Ù¾Ø´ØªÛŒÙˆØ§Ù†"], ["Ù£", "IT Fundamentals", "6:00", "Ù…. Ø¹Ù…Ø±"]], 3: [["Ù¡", "Kurdology", "2:00", "Ù…. Ú•ÛØ¨ÛŒÙ†"], ["Ù¢", "English", "4:00", "Ù…. Ø¨Û•Ø±Ù‡Û•Ù…"], ["Ù£", "Kurdology", "6:00", "Ù…. Ú•ÛØ¨ÛŒÙ†"]], 4: [["Ù¡", "IT Fundamentals", "2:00", "Ù…. Ø¹Ù…Ø±"], ["Ù¢", "IT Fundamentals", "4:00", "Ù…. Ø¹Ù…Ø±+Ø§Ù…ÛŒÙ†+Ù‡Û†Ú¯Ø±"]] },
                'B': { 1: [["Ù¡", "English", "2:00", "Ù…. Ø¨Û•Ø±Ù‡Û•Ù…"], ["Ù¢", "Logic Design", "4:00", "Ù…. Ù¾Ø´ØªÛŒÙˆØ§Ù†+Ù‡Û•ÚµÙƒÛ•ÙˆØª"], ["Ù£", "IT Fundamentals", "6:00", "Ù….Ø¹Ù…Ø±+Ù‡Û†Ú¯Ø±+Ø§Ù…ÛŒÙ†"]], 2: [["Ù¡", "Logic Design", "2:00", "Ù…. Ù¾Ø´ØªÛŒÙˆØ§Ù†"], ["Ù¢", "Mathematics", "4:00", "Ù…. Ø³Û†Ø±Ø§Ù†"], ["Ù£", "IT Fundamentals", "6:00", "Ù…. Ø¹Ù…Ø±"]], 3: [["Ù¡", "English", "2:00", "Ù…. Ø¨Û•Ø±Ù‡Û•Ù…"], ["Ù¢", "Kurdology", "4:00", "Ù…. Ú•ÛØ¨ÛŒÙ†"], ["Ù£", "Kurdology", "6:00", "Ù…. Ú•ÛØ¨ÛŒÙ†"]], 4: [["Ù¡", "IT Fundamentals", "2:00", "Ù…. Ø¹Ù…Ø±"], ["Ù¢", "IT Fundamentals", "4:00", "Ù…. Ø¹Ù…Ø±+Ø§Ù…ÛŒÙ†+Ù‡Û†Ú¯Ø±"]] }
            },
            2: {
                'A': {
                    1: [["Ù¡", "Programming", "2:00", "Ù…. Ù‡ÛØ´ÙˆÙˆ + Ù‡Û†Ú¯Ø± + Ø§Ù…ÛŒÙ†"], ["Ù¢", "English", "4:00", "Ù…. Ø¨Û•Ø±Ù‡Û•Ù… + Ø®ÛÚµØ§Ù†"], ["Ù£", "Network +", "6:00", "Ù….Ø¹Ù…Ø±"]],
                    2: [["Ù¡", "Programming", "2:00", "Ù…. Ù‡ÛØ´ÙˆÙˆ"], ["Ù¢", "English", "4:00", "Ù…. Ø¨Û•Ø±Ù‡Û•Ù… + Ø®ÛÚµØ§Ù†"]],
                    3: [["Ù¡", "Network +", "2:00", "Ù…. Ø¹Ù…Ø± + Ú¯Û†Ø±Ø§Ù† + Ø´ÛŒÙ„Ø§Ù†"], ["Ù¢", "Web Design", "4:00", "Ù…. Ù…Ø³ØªÛ•ÙØ§ + Ø§Ù…ÛŒÙ† + Ú†ÛŒÙ†Ø§Ø²"], ["Ù£", "Database", "6:00", "Ù…. Ù‡Û•Ø±Ø¯ÛŒ + Ø§Ù…ÛŒÙ† + Ø³Ø§Ù…Ø§Ù†"]],
                    4: [["Ù¡", "Database", "2:00", "Ù…. Ù‡Û•Ø±Ø¯ÛŒ"], ["Ù¢", "Web Design", "4:00", "Ù…. Ù…Ø³ØªÛ•ÙØ§"]]
                },
                'B': {
                    1: [["Ù¡", "English", "2:00", "Ù…. Ø¨Û•Ø±Ù‡Û•Ù… + Ø®ÛÚµØ§Ù†"], ["Ù¢", "Programming", "4:00", "Ù…. Ù‡ÛØ´ÙˆÙˆ + Ù‡Û†Ú¯Ø± + Ø§Ù…ÛŒÙ†"]],
                    2: [["Ù¡", "English", "2:00", "Ù…. Ø¨Û•Ø±Ù‡Û•Ù… + Ø®ÛÚµØ§Ù†"], ["Ù¢", "Programming", "4:00", "Ù…. Ù‡ÛØ´ÙˆÙˆ"], ["Ù£", "Network +", "6:00", "Ù…. Ø¹Ù…Ø±"]],
                    3: [["Ù¡", "Web Design", "2:00", "Ù…. Ù…Ø³ØªÛ•ÙØ§ + Ø§Ù…ÛŒÙ†+ Ú†ÛŒÙ†Ø§Ø²"], ["Ù¢", "Network +", "4:00", "Ù…. Ø¹Ù…Ø± + Ú¯Û†Ø±Ø§Ù† + Ø´ÛŒÙ„Ø§Ù†"]],
                    4: [["Ù¡", "Web Design", "2:00", "Ù…. Ù…Ø³ØªÛ•ÙØ§"], ["Ù¢", "Database", "4:00", "Ù…. Ù‡Û•Ø±Ø¯ÛŒ"], ["Ù£", "Database", "6:00", "Ù…. Ù‡Û•Ø±Ø¯ÛŒ + Ø§Ù…ÛŒÙ† + Ø³Ø§Ù…Ø§Ù†"]]
                }
            },
            3: {
                'A': { 1: [["Ù¡", "Web Programming", "2:00", "Ù…. Ø²Ø§Ù†ÛŒØ§Ø±"], ["Ù¢", "O.O.P", "4:00", "Ù…. Ø¹Ù„ÛŒ"]], 2: [["Ù¡", "Database Management", "2:00", "Ù…. Ù…Ø­Ù…Ø¯ + Ø§Ù…ÛŒÙ†"], ["Ù¢", "Web Programming", "4:00", "Ù…. Ø²Ø§Ù†ÛŒØ§Ø± + Ú¯Û†Ø±Ø§Ù†"]], 3: [["Ù¡", "Database", "2:00", "Ù…. Ù…Ø­Ù…Ø¯"], ["Ù¢", "O.O.P", "4:00", "Ù…. Ø¹Ù„ÛŒ + Ù‡Û†Ú¯Ø± + Ø³Ø§Ù…Ø§Ù†"]], 4: [["Ù¡", "Operating System", "2:00", "Ù…. Ú•ÛØ¨ÛŒÙ†"], ["Ù¢", "Computer Network II", "4:00", "Ù…. Ù‡Û•ÚµÛ†"]] },
                'B': { 1: [["Ù¡", "Web Programming", "2:00", "Ù…. Ø²Ø§Ù†ÛŒØ§Ø±"], ["Ù¢", "O.O.P", "4:00", "Ù…. Ø¹Ù„ÛŒ"]], 2: [["Ù¡", "Database Management", "2:00", "Ù…. Ù…Ø­Ù…Ø¯ + Ø§Ù…ÛŒÙ†"], ["Ù¢", "Web Programming", "4:00", "Ù…. Ø²Ø§Ù†ÛŒØ§Ø± + Ú¯Û†Ø±Ø§Ù†"]], 3: [["Ù¡", "Database", "2:00", "Ù…. Ù…Ø­Ù…Ø¯"], ["Ù¢", "O.O.P", "4:00", "Ù…. Ø¹Ù„ÛŒ + Ù‡Û†Ú¯Ø± + Ø³Ø§Ù…Ø§Ù†"]], 4: [["Ù¡", "Operating System", "2:00", "Ù…. Ú•ÛØ¨ÛŒÙ†"], ["Ù¢", "Computer Network II", "4:00", "Ù…. Ù‡Û•ÚµÛ†"]] }
            },
            4: {
                'A': {
                    1: [["Ù¡", "Web Programming II", "2:00", "Ù…. Ø²Ø§Ù†ÛŒØ§Ø±"], ["Ù¢", "Visual Programming", "4:00", "Ù…. Ø¹Ù„ÛŒ"]],
                    2: [["Ù¡", "Mobile Application", "2:00", "Ù…. Ú•ÛØ¨ÛŒÙ†+Ø³Ø§Ù…Ø§Ù†+Ø¦Û•Ù…ÛŒÙ†"], ["Ù¢", "Visual Programming", "4:00", "Ù…. Ø¹Ù„ÛŒ+Ù‡Û†Ú¯Ø±+Ù†Ù…Û•"], ["Ù£", "Web Programming II", "6:00", "Ù…. Ø²Ø§Ù†ÛŒØ§Ø±+Ú¯Û†Ø±Ø§Ù†+Ú†ÛŒÙ†Ø§Ø²"]],
                    3: [["Ù¡", "Project", "2:00", "-"], ["Ù¢", "Project", "4:00", "-"]],
                    4: [["Ù¡", "Mobile Application", "2:00", "Ù…. Ú•ÛØ¨ÛŒÙ†"], ["Ù¢", "Information Security", "4:00", "Ù…. Ù‡Û•ÚµÛ†"]]
                },
                'B': {
                    1: [["Ù¡", "Web Programming II", "2:00", "Ù…. Ø²Ø§Ù†ÛŒØ§Ø±"], ["Ù¢", "Visual Programming", "4:00", "Ù…. Ø¹Ù„ÛŒ"]],
                    2: [["Ù¡", "Web Programming II", "2:00", "Ù…. Ø²Ø§Ù†ÛŒØ§Ø±+Ú¯Û†Ø±Ø§Ù†+Ú†ÛŒÙ†Ø§Ø²"], ["Ù¢", "Mobile Application", "4:00", "Ù…. Ú•ÛØ¨ÛŒÙ†+Ø³Ø§Ù…Ø§Ù†+Ø¦Û•Ù…ÛŒÙ†"], ["Ù£", "Visual Programming", "6:00", "Ù…. Ø¹Ù„ÛŒ+Ù‡Û†Ú¯Ø±+Ù†Ù…Û•"]],
                    3: [["Ù¡", "Project", "2:00", "-"], ["Ù¢", "Project", "4:00", "-"]],
                    4: [["Ù¡", "Mobile Application", "2:00", "Ù…. Ú•ÛØ¨ÛŒÙ†"], ["Ù¢", "Information Security", "4:00", "Ù…. Ù‡Û•ÚµÛ†"]]
                }
            }
        }
    };

    function setSem(s) {
        currentSem = s;
        
        // Ù¡. Ú¯Û†Ú•ÛŒÙ†ÛŒ Ø¯ÛŒØ²Ø§ÛŒÙ†ÛŒ Ø¯ÙˆÚ¯Ù…Û•Ú©Ø§Ù† (Highlight)
        document.querySelectorAll('.sem-btn').forEach(btn => btn.classList.remove('active-btn'));
        const activeBtn = document.getElementById('btn-sem-' + s);
        if(activeBtn) activeBtn.classList.add('active-btn');

        // Ù¢. Ù¾ÛŒØ´Ø§Ù†Ø¯Ø§Ù†ÛŒ Ø¨Û•Ø´ÛŒ Ú¯Ø±ÙˆÙˆÙ¾Û•Ú©Ø§Ù†
        document.getElementById('group-selection').style.display = 'flex';
        document.getElementById('group-display-title').style.display = 'block';
        
        // Ù£. Ø´Ø§Ø±Ø¯Ù†Û•ÙˆÛ•/Ù¾ÛŒØ´Ø§Ù†Ø¯Ø§Ù†ÛŒ Ú¯Ø±ÙˆÙˆÙ¾ÛŒ C
        const btnC = document.getElementById('btn-grp-C');
        if (currentShift === 'morning' && (currentSem === 2 || currentSem === 4)) {
            if(btnC) btnC.style.display = 'inline-block';
        } else {
            if(btnC) btnC.style.display = 'none';
        }

        // Ù¤. Ù†ÙˆÙˆØ³ÛŒÙ†ÛŒ Ø¯Û•Ù‚Û•Ú©Û• (ÙˆÛ•Ú© Ø¦Û•ÙˆÛ•ÛŒ Ø®Û†Øª Ø¯Û•ØªÛ•ÙˆÛØª)
        const shiftText = currentShift === 'morning' ? (currentLang === 'en' ? 'Morning' : 'Ø¨Û•ÛŒØ§Ù†ÛŒØ§Ù†') : (currentLang === 'en' ? 'Evening' : 'Ø¦ÛÙˆØ§Ø±Ù†');
        // Ù„ÛØ±Û• Ù†ÙˆÙˆØ³ÛŒÙ†Û•Ú©Û• Ø¯Û•Ù†ÙˆÙˆØ³ÛŒÙ†Û•ÙˆÛ•
        document.getElementById('group-display-title').innerHTML = `${translations[currentLang].semBtn1.replace('Ù¡','').replace('1','')} ${s} - ${shiftText} - <span style="color:#f59e0b">${currentLang === 'en' ? 'Select Group' : 'Ú¯Ø±ÙˆÙ¾ Ù‡Û•ÚµØ¨Ú˜ÛØ±Û•'}</span>`;
        
        // Ù„Ø§Ø¨Ø±Ø¯Ù†ÛŒ Ø¯ÛŒØ²Ø§ÛŒÙ†ÛŒ Ú¯Ø±ÙˆÙˆÙ¾Û•Ú©Ø§Ù† Ú©Ø§ØªÛÚ© Ø³Ù…Ø³ØªÛ•Ø± Ø¯Û•Ú¯Û†Ú•Ø¯Ø±ÛØª
        document.querySelectorAll('.grp-btn').forEach(btn => btn.classList.remove('active-btn'));
        
        // Ù¾Ø§Ú©Ú©Ø±Ø¯Ù†Û•ÙˆÛ•ÛŒ Ø®Ø´ØªÛ•Ú©Û•
        document.getElementById('daysArea').innerHTML = ""; 
        document.getElementById('schedule-box').style.display = 'none';
    }

    function selectGroup(g) {
        let color = '#3b82f6';
        if (g === 'B') color = '#10b981';
        if (g === 'C') color = '#d97706';
        
        // Ù¡. Ú¯Û†Ú•ÛŒÙ†ÛŒ Ø¯ÛŒØ²Ø§ÛŒÙ†ÛŒ Ø¯ÙˆÚ¯Ù…Û•ÛŒ Ú¯Ø±ÙˆÙˆÙ¾ (Highlight)
        document.querySelectorAll('.grp-btn').forEach(btn => btn.classList.remove('active-btn'));
        const activeGrp = document.getElementById('btn-grp-' + g);
        if(activeGrp) activeGrp.classList.add('active-btn');

        // Ù¢. Ù†ÙˆÙˆØ³ÛŒÙ†ÛŒ Ø¯Û•Ù‚Û•Ú©Û• (ÙˆÛ•Ú© Ø¦Û•ÙˆÛ•ÛŒ Ø®Û†Øª Ø¯Û•ØªÛ•ÙˆÛØª)
        const shiftText = currentShift === 'morning' ? (currentLang === 'en' ? 'Morning' : 'Ø¨Û•ÛŒØ§Ù†ÛŒØ§Ù†') : (currentLang === 'en' ? 'Evening' : 'Ø¦ÛÙˆØ§Ø±Ù†');
        // Ù„ÛØ±Û• Ù†ÙˆÙˆØ³ÛŒÙ†Û•Ú©Û• Ù†ÙˆÛ Ø¯Û•Ú©Ø±ÛØªÛ•ÙˆÛ•
        document.getElementById('group-display-title').innerHTML = `${translations[currentLang].semBtn1.replace('Ù¡','').replace('1','')} ${currentSem} - ${shiftText} - <span style="color:${color}">Group ${g}</span>`;
        
        const dayNames = currentLang === 'en' ? ['Sunday', 'Monday', 'Tuesday', 'Wednesday'] : ['ÛŒÛ•Ú©Ø´Û•Ù…Ù…Û•', 'Ø¯ÙˆÙˆØ´Û•Ù…Ù…Û•', 'Ø³ÛØ´Û•Ù…Ù…Û•', 'Ú†ÙˆØ§Ø±Ø´Û•Ù…Ù…Û•'];
        document.getElementById('daysArea').innerHTML = `
            <button class="tab-btn" style="background:#8b5cf6; color:white; margin:2px;" onclick="selectDay('${g}', 1, '${dayNames[0]}')">${dayNames[0]}</button>
            <button class="tab-btn" style="background:#3b82f6; color:white; margin:2px;" onclick="selectDay('${g}', 2, '${dayNames[1]}')">${dayNames[1]}</button>
            <button class="tab-btn" style="background:#10b981; color:white; margin:2px;" onclick="selectDay('${g}', 3, '${dayNames[2]}')">${dayNames[2]}</button>
            <button class="tab-btn" style="background:#d97706; color:white; margin:2px;" onclick="selectDay('${g}', 4, '${dayNames[3]}')">${dayNames[3]}</button>`;
    }

    function selectDay(g, d, dayName) {
        const body = document.getElementById('schedule-body'); if (!body) return; body.innerHTML = '';
        let color = '#3b82f6';
        if (g === 'B') color = '#10b981';
        if (g === 'C') color = '#d97706';
        
        const shiftText = currentShift === 'morning' ? (currentLang === 'en' ? 'Morning' : 'Ø¨Û•ÛŒØ§Ù†ÛŒØ§Ù†') : (currentLang === 'en' ? 'Evening' : 'Ø¦ÛÙˆØ§Ø±Ù†');
        document.getElementById('group-display-title').innerHTML = `${translations[currentLang].semBtn1.replace('Ù¡','').replace('1','')} ${currentSem} - ${shiftText} - <span style="color:${color}">Group ${g}</span> - ${dayName}`;
        const subjectColors = { 'Logic Design': '#ef4444', 'English': '#f59e0b', 'IT Fundamentals': '#10b981', 'Mathematics': '#8b5cf6', 'Kurdology': '#475569', 'Web Programming': '#3b82f6', 'O.O.P': '#8b5cf6', 'Database Management': '#d97706', 'Database': '#d97706', 'Operating System': '#ef4444', 'Computer Network II': '#10b981', 'English II': '#f59e0b', 'Network +': '#3b82f6', 'Programming': '#8b5cf6', 'Web Design': '#14b8a6', 'Web Programming II': '#3b82f6', 'Visual Programming': '#8b5cf6', 'Mobile Application': '#d97706', 'Information Security': '#ef4444', 'Project': '#10b981' };
        
        if (scheduleData[currentShift] && scheduleData[currentShift][currentSem] && scheduleData[currentShift][currentSem][g] && scheduleData[currentShift][currentSem][g][d]) {
            const lessons = scheduleData[currentShift][currentSem][g][d];
            if (lessons.length > 0) {
                lessons.forEach(r => {
                    const sColor = subjectColors[r[1]] || '#3b82f6'; 
                    body.innerHTML += `<tr><td style="font-weight:bold;">${r[0]}</td><td><span style="background-color: ${sColor}; color: white; padding: 5px 12px; border-radius: 20px; font-weight: bold; display: inline-block;">${r[1]}</span></td><td dir="ltr" style="font-weight: bold;">${r[2]}</td><td style="font-size: 0.9rem;">${r[3]}</td></tr>`;
                });
            } else {
                body.innerHTML = `<tr><td colspan="4">${g === 'C' ? 'Ú¯Ø±ÙˆÙˆÙ¾ÛŒ C ÙˆØ§Ù†Û•ÛŒ Ù†ÛŒÛŒÛ• Ù„Û•Ù… Ú•Û†Ú˜Ø§Ù†Û•Ø¯Ø§' : 'ÙˆØ§Ù†Û• Ù†ÛŒÛŒÛ• / No Class'}</td></tr>`;
            }
            document.getElementById('schedule-box').style.display = 'block';
        } else { body.innerHTML = '<tr><td colspan="4">Ø²Ø§Ù†ÛŒØ§Ø±ÛŒ Ù†ÛŒÛŒÛ• / No Info</td></tr>'; document.getElementById('schedule-box').style.display = 'block'; }
    }

    function requestNotifyPermission() {
        if (!('Notification' in window)) { alert("Ù…Û†Ø¨Ø§ÛŒÙ„Û•Ú©Û•Øª Ù¾Ø´ØªÚ¯ÛŒØ±ÛŒ Ù†Û†ØªÛŒÙÛŒÚ©Û•ÛŒØ´Ù† Ù†Ø§Ú©Ø§Øª"); return; }
        Notification.requestPermission().then(permission => {
            if (permission === "granted") { 
                new Notification("Ø³Û•Ø±Ú©Û•ÙˆØªÙˆÙˆ Ø¨ÙˆÙˆ!", { body: "Ø¦ÛØ³ØªØ§ Ø¦Ø§Ú¯Ø§Ø¯Ø§Ø±ÛŒÛŒÛ•Ú©Ø§Ù†Øª Ù¾Û Ø¯Û•Ú¯Ø§Øª", icon: "it-icon-final-192.png" }); 
            } else { alert("ØªÚ©Ø§ÛŒÛ• Ù„Û• Ú•ÛÚ©Ø®Ø³ØªÙ†Û•Ú©Ø§Ù† Ú•ÛÚ¯Û• Ø¨Û• Ù†Û†ØªÛŒÙÛŒÚ©Û•ÛŒØ´Ù† Ø¨Ø¯Û•."); }
        });
    }

   async function fetchNews() {
        const newsContainer = document.getElementById('news-list'); 
        if (!newsContainer) return;
        
        try {
            const response = await fetch("https://api.airtable.com/v0/app1z1PS8UVTsQr6D/tblBouRY2UudRiook", { 
                headers: { "Authorization": "Bearer " + FINAL_TOKEN, "Content-Type": "application/json" }, 
                cache: "no-store" 
            });
            const data = await response.json();
            
            if (data.records && data.records.length > 0) {
                const latestNews = data.records[0].fields.Title;
                const storedNews = localStorage.getItem('last_news_title');
                
                if (storedNews !== latestNews && Notification.permission === "granted") {
                    if ('serviceWorker' in navigator) {
                        navigator.serviceWorker.ready.then(function(registration) {
                            registration.showNotification("Ø¦Ø§Ú¯Ø§Ø¯Ø§Ø±ÛŒ Ù†ÙˆÛ | IT", {
                                body: latestNews,
                                icon: "it-icon-final-192.png",
                                vibrate: [200, 100, 200],
                                tag: 'news-alert' 
                            });
                        });
                    } else {
                        new Notification("Ø¦Ø§Ú¯Ø§Ø¯Ø§Ø±ÛŒ Ù†ÙˆÛ | IT", { body: latestNews, icon: "it-icon-final-192.png" });
                    }
                    localStorage.setItem('last_news_title', latestNews);
                } 
                else if (!storedNews) { 
                    localStorage.setItem('last_news_title', latestNews); 
                }

                let html = "";
                data.records.forEach(r => { 
                    const t = r.fields.Title || ""; 
                    const d = r.fields.Details || ""; 
                    html += ` <span style="margin-left:100px; display:inline-block;"> <b>â€¢ ${t}</b> : ${d} </span> `; 
                });
                newsContainer.innerHTML = html + html;
            }
        } catch (e) { console.error("News Error:", e); }
    }

    setInterval(fetchNews, 15000);

    let examIntervals = [];
    async function checkExams() {
        const container = document.getElementById('exams-container');
        try {
            const r = await fetch("https://api.airtable.com/v0/app1z1PS8UVTsQr6D/Exams", { headers: { "Authorization": "Bearer " + FINAL_TOKEN }, cache: "no-store" });
            const d = await r.json();
            examIntervals.forEach(clearInterval); examIntervals = []; container.innerHTML = "";
            let activeExams = [];
            if (d.records && d.records.length > 0) {
                d.records.forEach(rec => {
                    if (rec.fields.Date) {
                        const exDate = new Date(rec.fields.Date);
                        if (exDate > new Date()) { activeExams.push({ ...rec.fields, dateObj: exDate }); }
                    }
                });
            }
            activeExams.sort((a, b) => a.dateObj - b.dateObj);
            if (activeExams.length > 0) {
                activeExams.forEach(exam => {
                    const divId = "timer-" + Math.random().toString(36).substr(2, 9);
                    container.innerHTML += `
                    <div class="countdown-box">
                        <h2 style="margin:0; font-size:1.1rem; color:#fcd34d;">${exam.Title}</h2>
                        <p style="margin:5px 0 10px; opacity:0.9; font-size:0.8rem; color:#e0f2fe;">${exam.dateObj.toLocaleString('ku-IQ')}</p>
                        <div class="timer-row">
                            <div class="timer-unit"><div class="timer-box" id="d-${divId}">00</div><div class="timer-label">Ú•Û†Ú˜</div></div>
                            <div class="timer-unit"><div class="timer-box" id="h-${divId}">00</div><div class="timer-label">Ú©Ø§Ú˜ÛØ±</div></div>
                            <div class="timer-unit"><div class="timer-box" id="m-${divId}">00</div><div class="timer-label">Ø®ÙˆÙ„Û•Ú©</div></div>
                            <div class="timer-unit"><div class="timer-box" id="s-${divId}">00</div><div class="timer-label">Ú†Ø±Ú©Û•</div></div>
                        </div>
                    </div>`;
                    startSpecificTimer(exam.dateObj, divId);
                });
            } else { container.innerHTML = "<h3 style='text-align:center; opacity:0.6; color:var(--text-color);'>Ù‡ÛŒÚ† ØªØ§Ù‚ÛŒÚ©Ø±Ø¯Ù†Û•ÙˆÛ•ÛŒÛ•Ú© Ù†ÛŒÛŒÛ•</h3>"; }
        } catch(e) { console.error(e); }
    }

    function startSpecificTimer(date, id) {
        const int = setInterval(() => {
            const now = new Date().getTime(); const dist = date.getTime() - now;
            if (dist < 0) { clearInterval(int); return; }
            const d = Math.floor(dist / (1000 * 60 * 60 * 24));
            const h = Math.floor((dist % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
            const m = Math.floor((dist % (1000 * 60 * 60)) / (1000 * 60));
            const s = Math.floor((dist % (1000 * 60)) / 1000);
            if (document.getElementById(`d-${id}`)) {
                document.getElementById(`d-${id}`).innerText = d < 10 ? "0" + d : d;
                document.getElementById(`h-${id}`).innerText = h < 10 ? "0" + h : h;
                document.getElementById(`m-${id}`).innerText = m < 10 ? "0" + m : m;
                document.getElementById(`s-${id}`).innerText = s < 10 ? "0" + s : s;
            }
        }, 1000);
        examIntervals.push(int);
    }

    /* GPA Logic Updated */
    function renderGrading() {
        const sem = document.getElementById('gpa-sem-select').value; 
        const subjects = subjectList[sem] || [];
        
        // Save selection to LocalStorage
        localStorage.setItem('gpa_selected_sem', sem);

        const container = document.getElementById('grading-container'); container.innerHTML = "";
        
        subjects.forEach((sub, idx) => {
            const color = subColors[sub] || '#3b82f6';
            container.innerHTML += `
            <div class="grade-item">
                <button class="accordion" onclick="toggleAccordion(this)">
                    <span class="subject-badge" style="background-color:${color};">${sub}</span>
                    <span id="score-${sem}-${idx}" style="font-size:0.8rem; opacity:0.6;">â–¼</span>
                </button>
                <div class="panel">
                    <div class="gpa-input-row"><label>Ú•Û†Ú˜Ø§Ù†Û•</label><input type="number" min="0" max="50" id="daily-${sem}-${idx}" oninput="calcSub('${sem}', ${idx})"></div>
                    <div class="gpa-input-row"><label>Ù†Û•Ù‡Ø§ØªÙ†</label><input type="number" min="0" max="50" id="attend-${sem}-${idx}" oninput="calcSub('${sem}', ${idx})"></div>
                    <div class="gpa-input-row"><label>Ú©ÙˆÛŒØ²</label><input type="number" min="0" max="50" id="quiz-${sem}-${idx}" oninput="calcSub('${sem}', ${idx})"></div>
                    <div class="gpa-input-row"><label>Ú•Ø§Ù¾Û†Ø±Øª Ùˆ Ø³ÛŒÙ…ÛŒÙ†Ø§Ø±</label><input type="number" min="0" max="50" id="report-${sem}-${idx}" oninput="calcSub('${sem}', ${idx})"></div>
                    <div class="gpa-input-row"><label>Ù…ÛŒØ¯ØªÛØ±Ù…</label><input type="number" min="0" max="50" id="mid-${sem}-${idx}" oninput="calcSub('${sem}', ${idx})"></div>
                    <div class="gpa-input-row" style="border-top:1px solid #eee;"><label style="color:${color}; font-weight:bold;">ÙØ§ÛŒÙ†Ø§Úµ</label><input type="number" min="0" max="50" id="final-${sem}-${idx}" oninput="calcSub('${sem}', ${idx})"></div>
                    <div id="status-${sem}-${idx}" style="text-align:center; padding:12px; font-size:0.9rem; font-weight:bold; color:#64748b; background:#f8fafc; margin-top:8px; border-radius:12px; line-height:1.6; border:1px solid #e2e8f0;">ØªÚ©Ø§ÛŒÛ• Ù†Ù…Ø±Û•Ú©Ø§Ù†Øª Ø¯Ø§Ø®Úµ Ø¨Ú©Û•...</div>
                    <div class="clear-btns-container"><button class="btn-clear-sub" onclick="clearSubject('${sem}', ${idx})">ğŸ—‘ï¸ Ø³Ú•ÛŒÙ†Û•ÙˆÛ•ÛŒ Ø¦Û•Ù… Ø¨Ø§Ø¨Û•ØªÛ•</button></div>
                </div>
            </div>`;
        });
        loadGrades();
    }
    
    function toggleAccordion(btn) { btn.classList.toggle("active-accordion"); var panel = btn.nextElementSibling; panel.style.maxHeight = panel.style.maxHeight ? null : panel.scrollHeight + "px"; }
    
    function calcSub(sem, idx) {
        const getVal = (id) => { const el = document.getElementById(id); let v = el.value; if (v === "") return null; if (v < 0) { el.value = 0; return 0; } return parseFloat(v); };
        
        const d = getVal(`daily-${sem}-${idx}`); 
        const a = getVal(`attend-${sem}-${idx}`); 
        const q = getVal(`quiz-${sem}-${idx}`);
        const r = getVal(`report-${sem}-${idx}`); 
        const m = getVal(`mid-${sem}-${idx}`); 
        const f = getVal(`final-${sem}-${idx}`);
        
        let currentScore = 0;
        if (d !== null) currentScore += d; if (a !== null) currentScore += a; if (q !== null) currentScore += q;
        if (r !== null) currentScore += r; if (m !== null) currentScore += m;
        
        let msg = "";
        
        // --- Validation Step ---
        if (currentScore > 50) { 
            msg = "<b style='color:#ef4444'>Ù‡Û•ÚµÛ•! Ú©Û†ÛŒ Ø³Û•Ø¹ÛŒ Ù†Ø§Ø¨ÛØª Ù„Û• Ù¥Ù  Ø²ÛŒØ§ØªØ± Ø¨ÛØª. Ø¯ÚµÙ†ÛŒØ§Ø¨Û•Ø±Û•ÙˆÛ• Ù„Û• Ù†Ù…Ø±Û•Ú©Ø§Ù†.</b>"; 
        } 
        else if (f !== null && f > 50) {
            msg = "<b style='color:#ef4444'>Ù‡Û•ÚµÛ•! Ù†Ù…Ø±Û•ÛŒ ÙØ§ÛŒÙ†Ø§Úµ Ù†Ø§Ø¨ÛØª Ù„Û• Ù¥Ù  Ø²ÛŒØ§ØªØ± Ø¨ÛØª.</b>";
        }
        else {
            msg = `<div style="margin-bottom:5px;">Ú©Û†ÛŒ Ø³Û•Ø¹ÛŒ (Ø¨Û ÙØ§ÛŒÙ†Ø§Úµ): <span style="color:#0284c7; font-size:1.1rem;">${currentScore}</span></div>`;
            
            // --- Missing Fields Reminder (SPECIFIC) ---
            let missing = [];
            if (d === null) missing.push("Ú•Û†Ú˜Ø§Ù†Û•");
            if (a === null) missing.push("Ù†Û•Ù‡Ø§ØªÙ†"); // Check attendance too
            if (q === null) missing.push("Ú©ÙˆÛŒØ²");
            if (r === null) missing.push("Ú•Ø§Ù¾Û†Ø±Øª Ùˆ Ø³ÛŒÙ…ÛŒÙ†Ø§Ø±");
            if (m === null) missing.push("Ù…ÛŒØ¯ØªÛØ±Ù…");

            // --- Motivation Logic ---
            if (missing.length > 0 && currentScore < 50) {
                 msg += `<div style="color:#d97706; font-size:0.85rem; margin-top:5px; margin-bottom:5px; line-height:1.6; font-weight:bold;">ğŸ’¡ Ù‡Û•ÙˆÚµØ¨Ø¯Û• Ù„Û• (${missing.join(' Ùˆ ')}) Ù†Ù…Ø±Û• Ø¨Û•Ø¯Û•Ø³Øª Ø¨Ù‡ÛÙ†ÛŒØªØŒ Ø¨Û† Ø¦Û•ÙˆÛ•ÛŒ Ø¨Û† ÙØ§ÛŒÙ†Ø§Úµ Ø¨ØªÙˆØ§Ù†ÛŒØª Ù†Ù…Ø±Û•Øª Ø²Û†Ø± Ø¨Û•Ø±Ø² Ø¨ÙƒÛ•ÛŒØªÛ•ÙˆÛ•.</div>`;
            }
            
            // Check Score Levels if everything is filled or score is low
            if (currentScore < 25) {
                msg += `<br><span style="color:#ef4444; font-weight:900;">âš ï¸ Ù…Û•ØªØ±Ø³ÛŒ! Ù†Ù…Ø±Û•ÛŒ Ø³Û•Ø¹ÛŒØª Ø²Û†Ø± Ú©Û•Ù…Û•. Ø¯Û•Ø¨ÛØª Ù„Û• ÙØ§ÛŒÙ†Ø§Úµ Ù‡Û•Ù…ÙˆÙˆ Ù‡Û•ÙˆÚµÛÚ© Ø¨Ø¯Û•ÛŒØª ØªØ§ÙˆÛ•Ú©Ùˆ Ø¯Û•Ø±Ø¨Ú†ÛŒØª.</span>`;
            } else if (currentScore >= 25 && currentScore < 35) {
                msg += `<br><span style="color:#d97706;">Ø¨Ø§Ø´Û•ØŒ Ø¨Û•ÚµØ§Ù… Ù‡ÛØ´ØªØ§ Ù…Û•ØªØ±Ø³ÛŒ Ù‡Û•ÛŒÛ•.</span>`;
            } else if (currentScore >= 35 && currentScore < 50) {
                msg += `<br><span style="color:#059669; font-weight:bold;">ğŸŒŸ Ø¦Ø§Ø³ØªØª Ø²Û†Ø± Ù†Ø§ÛŒØ§Ø¨Û•! ØªÛ† ØªÛ•Ù†Ù‡Ø§ Ø¨Û† Ø¯Û•Ø±Ú†ÙˆÙˆÙ† Ù‡Û•ÙˆÚµ Ù…Û•Ø¯Û•ØŒ Ø¨Û•ÚµÚ©Ùˆ Ø¨Ø¬Û•Ù†Ú¯Û• Ø¨Û† Ø¦Û•ÙˆÛ•ÛŒ Ø¨Û•Ø±Ø²ØªØ±ÛŒÙ† Ù†Ù…Ø±Û• Ø¨Ù‡ÛÙ†ÛŒØª.</span>`;
            } else if (currentScore === 50) {
                msg += `<br><span style="color:#10b981; font-weight:bold;">ğŸ† Ø³Û•Ø¹ÛŒ ØªÛ•ÙˆØ§Ùˆ! Ù†Ø§ÛŒØ§Ø¨Û•ØŒ Ø¦ÛØ³ØªØ§ ØªÛ•Ù†Ù‡Ø§ ÙØ§ÛŒÙ†Ø§Úµ Ù…Ø§ÙˆÛ• Ø¨Û† Ù†Ù…Ø±Û•ÛŒ Ù¡Ù Ù .</span>`;
            }

            // --- Final Score Calculation ---
            if (f !== null) {
                let finalScore = currentScore + f;
                msg = `<div style="margin-bottom:5px; font-size:1.1rem;">Ú©Û†ÛŒ Ú¯Ø´ØªÛŒ: <span style="color:#1e293b; font-weight:900;">${finalScore}</span></div>`;
                if (finalScore > 100) {
                     msg += `<span style="color:#ef4444">Ù‡Û•ÚµÛ•! Ù†Ù…Ø±Û• Ù„Û• Ù¡Ù Ù  ØªÛÙ¾Û•Ú•ÛŒ Ú©Ø±Ø¯.</span>`;
                } else if (finalScore >= 50) {
                     msg += `<span style="color:#10b981">ğŸ‰ Ù¾ÛŒØ±Û†Ø²Û• Ø¯Û•Ø±Ú†ÙˆÙˆÛŒØª!</span>`;
                     if(finalScore >= 85) msg += ` <span style="color:#f59e0b">Ø¦Ø§Ø³ØªÛÚ©ÛŒ Ø¨Û•Ø±Ø²!</span>`;
                } else {
                     msg += `<span style="color:#ef4444">ğŸ˜¢ Ø¨Û•Ø¯Ø§Ø®Û•ÙˆÛ• Ú©Û•ÙˆØªÙˆÛŒØª.</span>`;
                }
            }
        }
        
        const statusDiv = document.getElementById(`status-${sem}-${idx}`); 
        statusDiv.innerHTML = msg;
        let panel = statusDiv.closest('.panel'); if(panel.style.maxHeight) { panel.style.maxHeight = panel.scrollHeight + "px"; }
        saveGrades();
    }

    function saveGrades() { 
        // Using a persistent key that is NOT cleared on update
        const inputs = document.querySelectorAll('#grading-container input'); 
        let data = JSON.parse(localStorage.getItem('it_chamchamal_grades') || '{}');
        inputs.forEach(i => data[i.id] = i.value); 
        localStorage.setItem('it_chamchamal_grades', JSON.stringify(data)); 
    }

    function loadGrades() { 
        const saved = JSON.parse(localStorage.getItem('it_chamchamal_grades') || '{}'); 
        if(saved) { 
            for(let id in saved) { 
                let el = document.getElementById(id); 
                if(el){ 
                    el.value = saved[id]; 
                    let parts = id.split('-'); 
                    if(parts.length >= 3) { calcSub(parts[1], parts[2]); } 
                } 
            } 
        } 
    } 

    function clearSubject(sem, idx) {
        if(confirm("Ø¯ÚµÙ†ÛŒØ§ÛŒ Ù„Û• Ø³Ú•ÛŒÙ†Û•ÙˆÛ•ÛŒ Ù†Ù…Ø±Û•Ú©Ø§Ù†ÛŒ ØªÛ•Ù†Ù‡Ø§ Ø¦Û•Ù… Ø¨Ø§Ø¨Û•ØªÛ•ØŸ")) {
            let data = JSON.parse(localStorage.getItem('it_chamchamal_grades') || '{}');
            const fields = ['daily', 'attend', 'quiz', 'report', 'mid', 'final'];
            fields.forEach(f => {
                let id = `${f}-${sem}-${idx}`;
                if(document.getElementById(id)) document.getElementById(id).value = "";
                delete data[id];
            });
            localStorage.setItem('it_chamchamal_grades', JSON.stringify(data));
            document.getElementById(`status-${sem}-${idx}`).innerHTML = "ØªÚ©Ø§ÛŒÛ• Ù†Ù…Ø±Û•Ú©Ø§Ù†Øª Ø¯Ø§Ø®Úµ Ø¨Ú©Û•...";
        }
    }

    function resetSemesterGrades() {
        const sem = document.getElementById('gpa-sem-select').value;
        if(confirm(`Ø¯ÚµÙ†ÛŒØ§ÛŒ Ù„Û• Ø³Ú•ÛŒÙ†Û•ÙˆÛ•ÛŒ Ù‡Û•Ù…ÙˆÙˆ Ù†Ù…Ø±Û•Ú©Ø§Ù†ÛŒ Ø³Ù…Ø³ØªÛ•Ø±ÛŒ ${sem}ØŸ (Ù†Ù…Ø±Û•Ú©Ø§Ù†ÛŒ Ø³Ù…Ø³ØªÛ•Ø±Û•Ú©Ø§Ù†ÛŒ ØªØ± Ø¯Û•Ù…ÛÙ†Ù†Û•ÙˆÛ•)`)) {
            let data = JSON.parse(localStorage.getItem('it_chamchamal_grades') || '{}');
            // Only remove keys that match the current semester
            Object.keys(data).forEach(key => {
                if(key.includes(`-${sem}-`)) {
                    delete data[key];
                }
            });
            localStorage.setItem('it_chamchamal_grades', JSON.stringify(data));
            renderGrading(); // Re-render to clear inputs
        }
    }

    async function initVisitorCounter() {
        try {
            const res = await fetch(`https://api.airtable.com/v0/app1z1PS8UVTsQr6D/tblBouRY2UudRiook/reccrgnulA1AiGx75`, { headers: { Authorization: `Bearer ${FINAL_TOKEN}` } });
            const data = await res.json(); let n = (data.fields.Visits || 0) + 1;
            document.getElementById('visitor-counter').textContent = String(n).padStart(7, '0');
            await fetch(`https://api.airtable.com/v0/app1z1PS8UVTsQr6D/tblBouRY2UudRiook/reccrgnulA1AiGx75`, { method: 'PATCH', headers: { Authorization: `Bearer ${FINAL_TOKEN}`, 'Content-Type': 'application/json' }, body: JSON.stringify({ fields: { "Visits": n } }) });
        } catch (e) { console.error("Counter Error:", e); }
    }

    function updateClock() {
        const now = new Date(); let hours = now.getHours(); const minutes = String(now.getMinutes()).padStart(2, '0');
        const seconds = String(now.getSeconds()).padStart(2, '0'); const ampm = hours >= 12 ? 'PM' : 'AM';
        hours = hours % 12; hours = hours ? hours : 12; 
        const clockElement = document.getElementById('liveClock'); if(clockElement) { clockElement.textContent = `${hours}:${minutes}:${seconds} ${ampm}`; }
    }

    window.onload = function() {
        fetchNews(); initVisitorCounter(); checkUpdate(); setTheme(localStorage.getItem('themeMode') || 'auto');
        checkExams(); renderGrading(); setInterval(updateClock, 1000); updateClock(); 
    };

    if ('serviceWorker' in navigator) { navigator.serviceWorker.register('sw.js').catch(err => console.log('SW Failed', err)); }
</script>
</body>
</html>
